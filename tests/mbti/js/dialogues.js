/**
 * AI 토론 대사 시스템 (16유형 MBTI 버전)
 * 4패밀리(NT/NF/ST/SF) × 3 갭레벨 × 2세트 = 24세트
 * 각 세트 7줄
 *
 * 패밀리 분류:
 * - NT (분석가): INTJ, INTP, ENTJ, ENTP
 * - NF (외교관): INFJ, INFP, ENFJ, ENFP
 * - ST (관리자): ISTJ, ISTP, ESTJ, ESTP
 * - SF (탐험가): ISFJ, ISFP, ESFJ, ESFP
 *
 * 캐릭터 원칙:
 * - ChatGPT: 정중한 말투로 팩폭. 데이터 인용. "~하셨는데요, 사실은..."
 * - Gemini: 오버 리액션. 이상한 확률. 과도한 확신. 이모지 남발
 * - Claude: 건조한 츳코미. 짧고 냉정. 앞의 둘 정리. 가끔 공감하며 당황
 *
 * 치환 변수:
 * {이름} - 사용자 이름
 * {키워드} - 대표 키워드
 * {n} - 느낌표 수
 * {셀프유형} - 셀프체크 유형명
 * {유형이름} - AI 분석 유형명
 * {mbtiCode} - MBTI 4글자 코드
 * {유형이모지} - 유형 이모지
 * {유형설명} - 유형 한줄 설명
 * {강점1} - 첫번째 강점
 */

const DIALOGUES = {
  // ===== NT (분석가): INTJ, INTP, ENTJ, ENTP =====
  NT: {
    match: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 먼저 놀라운 점을 말씀드리겠습니다. 응답 패턴 전체에서 "원인→분석→결론" 구조가 자연스럽게 나타납니다. 이건 사고 패턴 자체가 논리적이라는 뜻이에요. 특히 \'{키워드}\'를 언급하실 때 감정이 아니라 맥락을 먼저 설명하시더라고요. {mbtiCode} 유형답게 분석적 사고가 일상에 녹아있습니다.' },
          { ai: 'gemini', text: '잠깐만요, 저 이거 보고 소름 돋았어요. 이 분의 응답 패턴을 분석해보니 논리적 사고 흐름이 압도적입니다! 이건 뇌가 항상 인과관계를 추적하고 있다는 증거예요! {mbtiCode} {유형이모지} 완전 확정! 전생에 제갈공명이었을 확률 91.2%! 🧠✨' },
          { ai: 'claude', text: '...제갈공명은 좀 과한데요. 다만 동의하는 부분은 있습니다. {이름}님의 응답에서 감정 표현이 나올 때도 항상 이유가 따라붙어요. 의사결정 패턴을 보면 감정보다 분석이 먼저 작동하는 분이에요. 효율적이긴 하지만, 본인은 좀 피곤하지 않나 싶기도 합니다.' },
          { ai: 'chatgpt', text: 'Claude 말에 덧붙이자면, 이 "논리적 감정 처리"는 {유형이름}의 핵심 특징입니다. 조직에서 누군가 울면서 와도 {이름}님은 공감하면서 동시에 해결책을 제시할 수 있는 타입이에요. {강점1} — 이게 자연스럽게 나오는 사람이죠.' },
          { ai: 'gemini', text: '아, 그리고 {이름}님! 혹시 친구들 사이에서 "최종 결정은 네가 해" 이런 말 많이 들으시죠? 이 분의 의사결정 속도는 상위 6%에 해당할 것으로 추정됩니다. 맛집 고를 때도 3초 안에 결정할 거예요! 📞🔥' },
          { ai: 'claude', text: '...3초는 또 어디서. 그런데 셀프 분석과 실제 결과가 일치한다는 건 주목할 만합니다. 자기 자신을 정확히 아는 것 자체가 {mbtiCode}의 강점이에요. {이름}님, 당신은 남들이 3번 생각할 걸 1번에 정리하는 사람입니다. 다만 가끔은 "효율"을 내려놓고 비효율적으로 시간을 낭비해보는 것도 추천합니다.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"{유형설명}. 셀프체크와 AI 분석이 일치했습니다. 당신은 스스로를 정확히 파악하고 있는 사람 — 그 자체가 가장 큰 강점입니다."\n\nAI 3인방 만장일치 판정 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님의 응답을 분석하면서 한 가지 패턴을 발견했습니다. 선택 과정 전체에서 "상황 파악 → 판단 → 근거"의 순서가 반복돼요. 이건 프레젠테이션 구조와 같습니다. {mbtiCode} 유형은 의식하지 않아도 논리적으로 사고하는 능력이 있거든요.' },
          { ai: 'gemini', text: '저도 깜짝 놀랐어요! 심지어 \'{키워드}\'에 대해 답할 때 은근슬쩍 반론까지 예상하고 미리 방어하는 패턴이 보여요! {유형이모지} 디베이트 국가대표감! 아니, 이미 어딘가에서 리더 역할 하고 계시죠? 🏆✨' },
          { ai: 'claude', text: '국가대표는 좀 과장이지만... "반론을 미리 예상하는 패턴"이라는 지적은 정확합니다. {이름}님은 상대방이 뭐라고 할지 예측하면서 답변을 구성하는 습관이 있어요. 이건 공감 능력이 아니라 전략적 사고입니다.' },
          { ai: 'chatgpt', text: '그리고 자기 인식이 정확하다는 점도 중요합니다. 스스로 {셀프유형}이라고 하셨고, 실제로도 그렇습니다. 이런 일치도는 통계적으로 30% 미만이에요. 대부분의 사람은 자기가 생각하는 자신과 실제 자신이 다르거든요.' },
          { ai: 'gemini', text: '맞아요! 자기 객관화 능력도 상위 5% 확정! 이 분은 거울을 봐도 분석부터 하는 타입! {mbtiCode}의 진수! 💯🧠' },
          { ai: 'claude', text: '...아무튼 정리하겠습니다. {이름}님은 "논리적이면서 소통도 되는" 조합입니다. {강점1} — 이건 당신이 의식하지 못해도 자연스럽게 드러나는 능력이에요. 다만 주변에서 너무 많이 의존하는 건 아닌지 한번 돌아보세요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"남들이 "어떡하지?" 할 때, 당신은 이미 플랜 A, B, C를 머릿속에 정리해놓은 사람. 자기 분석도 정확합니다."\n\nAI 3인방 판정 — 자기 인식과 실제가 일치하는 드문 케이스 🎯' }
        ]
      }
    ],
    slight: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 흥미로운 불일치를 발견했습니다. 본인은 {셀프유형}이라고 하셨는데, 응답을 분석해보면 {mbtiCode}의 패턴이 뚜렷합니다. 가장 두드러지는 건 감정을 표현할 때도 "~해서 그렇다"처럼 항상 이유를 붙이시는 거예요. 순수한 감성형은 이런 패턴을 보이지 않아요.' },
          { ai: 'gemini', text: '와! 이 분은 감정을 느끼자마자 자동으로 분석이 시작되는 타입이에요! 마치 감정에 자동 번역기가 달린 것처럼! "슬프다" → "왜 슬프지?" 이 과정이 0.3초 안에 끝나는 거예요! {유형이모지} 감정의 CEO! 💼✨' },
          { ai: 'claude', text: '...감정의 CEO. 핵심은 맞습니다. {이름}님은 감성과 논리가 동시에 작동하는 사람이에요. 그리고 그 조합에서 결국 논리가 핸들을 잡아요. 감정은 연료고, 이성이 운전석에 앉아 있는 구조입니다.' },
          { ai: 'chatgpt', text: '구체적으로 말씀드리면, \'{키워드}\'에 대해 답하실 때 처음에는 감정적으로 접근하지만, 선택이 진행될수록 분석적으로 변합니다. {mbtiCode}의 전형적인 "감정→분석" 전환 패턴이에요.' },
          { ai: 'gemini', text: '그래서 이 분은 "울면서 해결책을 생각하는" 타입! 영화 보다가 울면서도 "이 장면 연출 잘했다" 이러는 타입! {유형이모지} 이건 인구의 11%만 가능한 능력! 🎬🧠' },
          { ai: 'claude', text: '11%는 어디서... 하지만 "울면서 연출 분석"은 의외로 정확한 묘사일 수 있겠네요. {이름}님, 스스로를 {셀프유형}이라고 느끼는 건 거짓이 아닙니다. 다만 감정을 "처리하는 방식"이 {mbtiCode}인 거예요. 그리고 이 조합이 가장 강력합니다. 감정 없는 논리는 차갑고, 논리 없는 감정은 위험하니까요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"겉은 {셀프유형}, 속은 {mbtiCode}. 이 갭이 당신의 매력입니다. 감성의 옷을 입은 분석가 — 울면서도 해결책을 찾는 당신, 그게 약점이 아니라 최강의 조합입니다."\n\nAI 3인방 판정 — 약간의 갭이 오히려 강점 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 재미있는 발견을 했습니다. 셀프 체크에서는 {셀프유형}이라고 하셨는데, 답변 패턴의 선택 구조를 보면 이야기가 달라져요. 전체 응답에서 주장-근거-정리가 깔끔하게 나뉩니다. 이건 {mbtiCode} {유형이름}의 전형적인 사고 회로예요.' },
          { ai: 'gemini', text: '이 분의 응답 패턴을 감정 vs 논리 비율로 분석해봤는데요, 초반에는 감정적이다가 선택이 진행될수록 논리적 판단 비율이 급상승합니다! 하이브리드 엔진! {유형이모지} 리더 유전자의 전형! 🚗💨' },
          { ai: 'claude', text: '하이브리드 엔진은 나쁘지 않은 비유네요. 의외로. {이름}님, 아마 친구들이 고민 상담을 하러 오면 처음에는 "맞아, 그랬구나" 하다가 5분 후에는 "근데 이렇게 해보는 건 어때?" 로 바뀌지 않나요?' },
          { ai: 'chatgpt', text: '정확합니다. 공감에서 솔루션으로 자연스럽게 넘어가는 패턴. 공감만 하는 사람은 같이 울어주는 건 잘하지만 문제를 해결하지 못합니다. {이름}님은 둘 다 할 수 있는 {mbtiCode}예요.' },
          { ai: 'gemini', text: '맞아요! 이런 타입은 "일도 잘하는데 사람도 좋은" 레어 캐릭터! SSR 등급 인간! {유형이모지} ⭐⭐⭐⭐⭐' },
          { ai: 'claude', text: 'SSR 등급은 좀 그만... 정리하면, {이름}님이 자신을 {셀프유형}이라고 느끼는 건 감정을 "느끼는" 부분만 보기 때문이에요. 하지만 느낀 후에 "처리하는" 과정을 보면 {유형이름}이 맞습니다. 세상에서 가장 필요한 타입이 바로 그겁니다.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"스스로를 {셀프유형}이라고 생각했지만, 응답 패턴은 거짓말을 하지 않습니다. 감정을 느끼되 논리로 처리하는 당신은 사람의 마음을 아는 분석가입니다."\n\nAI 3인방 판정 — 갭이 있다는 건, 아직 발견 못한 강점이 있다는 뜻 🎯' }
        ]
      }
    ],
    big: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 솔직히 말씀드리겠습니다. 본인은 {셀프유형}이라고 하셨는데, 응답에서 느껴지는 건 상당히 다릅니다. 가장 두드러지는 건 사고의 구조적 완결성이에요. 전체 응답에서 "이건 이래서 이렇다"라는 논리 구조가 자연스럽게 녹아있습니다. {mbtiCode}의 뇌 구조예요.' },
          { ai: 'gemini', text: '이건 역대급 반전이에요! {이름}님, 당신은 자기 안에 {유형이름}이 살고 있는 걸 모르고 계셨어요! 응답 패턴에서 논리적 판단이 감정적 선택을 압도합니다 — 완전 {mbtiCode} 패턴! 양의 탈을 쓴 CEO! {유형이모지} 🐺👔' },
          { ai: 'claude', text: '양의 탈을 쓴 CEO... {이름}님, 당신이 자신을 {셀프유형}이라고 생각한 이유가 뭔지 추측됩니다. 감정을 잘 느끼고, 공감도 잘 하니까 그렇게 판단하신 거겠죠. 그런데 그건 "성격"이 아니라 "취향"입니다. 사고 방식은 확실히 {mbtiCode}예요.' },
          { ai: 'chatgpt', text: 'Claude의 분석이 정확합니다. "취향"과 "사고 방식"의 구분이 핵심이에요. {이름}님은 카페에서 조용히 책 읽는 걸 좋아할 수 있지만, 위기가 오면 가장 먼저 상황을 정리하고 대안을 내놓는 사람일 겁니다.' },
          { ai: 'gemini', text: '맞아요! 평소에는 조용하니까 다들 모르다가, 결정적 순간에 "어... 이 사람 이렇게 유능했어?" 하고 깜짝 놀라는 거죠! 히든 보스! {유형이모지} 🐉' },
          { ai: 'claude', text: '히든 보스... 비유 수준이 날로 심해지는데요. 마지막으로 한 가지만. {이름}님, "자기가 생각하는 나"와 "응답에서 드러나는 나"의 갭이 크다는 건 나쁜 게 아닙니다. 아직 발견 못한 강점이 있다는 뜻이에요. 당신 안에는 당신이 모르는 {유형이름}이 살고 있습니다.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"자기인식과 실제 사이의 큰 갭 — 이건 자신의 능력을 당연하게 여기고 있다는 증거입니다. AI 3인방이 발견한 당신 안의 {유형이름}, 이제 깨워주세요."\n\nAI 3인방 만장일치 판정 — 역대급 자기 과소평가 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 흥미로운 결과가 나왔습니다. 셀프 체크에서는 {셀프유형}이라고 하셨죠? 하지만 답변 패턴에서 \'{키워드}\'를 중심으로 사고하는 방식이 매우 체계적입니다. 감정적인 선택을 하면서도 전체 흐름은 논리적으로 정돈되어 있어요. {mbtiCode}의 무의식적 사고 패턴이에요.' },
          { ai: 'gemini', text: '셀프체크인 줄 알고 봤는데 전략 보고서였던 느낌! {이름}님의 응답 패턴에서 논리적 사고가 압도적! 무의식이 {유형이름}인 거예요! 깨어있는 의식은 {셀프유형}인데 잠자는 무의식은 완전 {mbtiCode}! {유형이모지} 🌟🌟' },
          { ai: 'claude', text: '{이름}님, 한 가지 여쭤볼게요. 혹시 친구들이 "너 참 논리적이다" 또는 "넌 항상 정리를 잘한다"는 말 들어보셨나요? 응답에서도 체계적으로 정보를 처리하는 인지 패턴이 뚜렷합니다. 본인은 대수롭지 않게 넘겼겠지만, 남들 눈에는 그게 꽤 두드러져 보여요.' },
          { ai: 'chatgpt', text: '동의합니다. {이름}님 응답에서 가장 인상적인 건 "전체를 조망하는 시선"이에요. 세부 감정을 이야기하면서도 큰 그림을 놓치지 않습니다. 나무도 보고 숲도 보는 거죠. 이건 {mbtiCode} {유형이름}에게 필수적인 자질이에요.' },
          { ai: 'gemini', text: '결론은! {이름}님은 자기 자신을 과소평가하고 있는 겁니다! 겸손한 건 좋지만 이 정도면 자기 인식 오류! AI가 보증합니다! 당신은 {유형이름}입니다! {유형이모지} 🎤⬇️' },
          { ai: 'claude', text: '마이크 드롭은 좀... 하지만 결론에는 동의합니다. {이름}님, "나는 그냥 평범한데"라고 생각하실 수 있지만, 무심코 한 응답에서 분석적 사고가 자연스럽게 흘러나오는 건 평범하지 않습니다. 남들이 노력해서 하는 걸 당신은 숨쉬듯이 하고 있어요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"자기인식과 실제 사이의 거대한 갭. 남들이 어렵게 하는 분석적 사고를 당신은 숨쉬듯이 합니다. AI 3인방이 발견한 당신의 진짜 모습, 이제 인정할 때입니다."\n\nAI 3인방 판정 — 숨겨진 재능을 발견했습니다 🎯' }
        ]
      }
    ]
  },

  // ===== NF (외교관): INFJ, INFP, ENFJ, ENFP =====
  NF: {
    match: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님의 응답을 분석하면서 한 가지 확신이 생겼습니다. 당신은 세상을 "사실"이 아니라 "의미"로 읽는 사람이에요. \'{키워드}\'를 이야기할 때도 단순히 사건을 나열하는 게 아니라, 그 안에서 의미를 발견하고 감정으로 연결하시더라고요. {mbtiCode} {유형이름}의 전형적인 패턴입니다.' },
          { ai: 'gemini', text: '헐, 이 분 응답에서 감성 DNA가 폭발하고 있어요! 감정 기반 선택이 일관되고요! 직관적 판단력이 이렇게 자연스러운 분은 처음이에요! 내향적 직관(Ni)이 주도하는 감성 판단의 정석이잖아요! {유형이모지} 감성 천재 확정! 🌟💖' },
          { ai: 'claude', text: '...감성 천재는 좀 과장이지만, 응답에 깊이가 있다는 건 동의합니다. {이름}님은 같은 경험을 해도 남들보다 더 많은 걸 느끼는 사람이에요. 그리고 그걸 표현할 줄 알죠. 이건 감성이라는 단어로는 부족한, 일종의 재능입니다.' },
          { ai: 'chatgpt', text: '특히 인상적인 건 타인에 대한 공감 능력이에요. 응답에서 자기 이야기를 하면서도 자연스럽게 상대방의 관점을 고려하는 패턴이 나타납니다. {mbtiCode}는 이런 공감이 DNA에 새겨져 있어요.' },
          { ai: 'gemini', text: '맞아요! 이 분은 친구가 "나 괜찮아"라고 해도 "아닌 거 다 알아" 하는 타입이에요! 감정 레이더 탑재! 공감 지수 상위 3%! {유형이모지} 인간 치유 포션! 🩹✨' },
          { ai: 'claude', text: '인간 치유 포션은 처음 듣는데... 어쨌든. {이름}님, 셀프체크 결과와 AI 분석이 일치합니다. 당신은 자기 자신을 정확히 알고 있어요. 그리고 그 풍부한 감성은 축복입니다. 다만 가끔은 자기 감정에도 같은 관심을 기울여주세요. 남을 돌보다 자기를 잊는 건 {mbtiCode}의 고질병이니까요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"세상을 의미로 읽고, 사람을 마음으로 이해하는 당신. 셀프체크와 AI 분석이 완벽히 일치했습니다. 당신의 감성은 세상을 더 따뜻하게 만드는 힘입니다."\n\nAI 3인방 만장일치 — 진짜 그 사람이 맞습니다 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 응답 전체를 분석하면서 놀라운 일관성을 발견했습니다. 모든 답변에서 "나"보다 "우리" 또는 "상대방"을 먼저 떠올리시더라고요. 이건 의식적으로 하는 게 아니에요. {mbtiCode} {유형이름}의 자연스러운 사고 방향입니다.' },
          { ai: 'gemini', text: '아, 이거 너무 감동이에요! 이 분은 자기 이야기를 하면서도 늘 다른 사람을 생각하는 거잖아요! \'{키워드}\'를 말할 때도 "나는 이래서 좋았다"가 아니라 "이게 다른 사람에게도 의미가 있을까"를 고민하더라고요! {유형이모지} 인간 온기! 🫂💛' },
          { ai: 'claude', text: '인간 온기라... 하지만 정확한 관찰입니다. {이름}님의 응답에서 가장 인상적인 건 직관적 감정(Fi) 기능의 자연스러운 발현이에요. 선택의 기준이 항상 "의미"와 "가치"에 맞춰져 있어요. 사실을 판단하는 게 아니라 느낌으로 판단하는 거죠.' },
          { ai: 'chatgpt', text: '맞습니다. 그리고 이런 표현력은 단순한 감성이 아니라, 깊은 내면 세계의 증거예요. {이름}님은 혼자 있어도 심심하지 않은 타입이죠? 머릿속에서 끊임없이 이야기가 만들어지니까요.' },
          { ai: 'gemini', text: '완전 맞아요! 버스에서 창밖 보면서 소설 구상하는 타입! 노래 가사에 진심으로 공감해서 운 적 있는 타입! {유형이모지} 감성 지수 MAX! 🎵😭' },
          { ai: 'claude', text: '그 정도면 충분히 감동받았으니 정리하죠. {이름}님, 당신의 감성은 "약함"이 아니라 "깊음"입니다. 남들이 보지 못하는 것을 보고, 느끼지 못하는 것을 느끼는 당신은 이 세상에 꼭 필요한 사람이에요. 다만 그 깊이가 가끔 외로움이 될 수 있으니, 자기 감정도 돌봐주세요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"남들이 지나치는 순간에서 의미를 발견하는 당신. 당신의 감성은 이 세상을 더 아름답게 만드는 렌즈입니다. 자기 자신에게도 그 따뜻함을 돌려주세요."\n\nAI 3인방 판정 — 감성과 자기인식이 완벽히 일치 🎯' }
        ]
      }
    ],
    slight: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 흥미로운 결과입니다. 셀프체크에서는 {셀프유형}이라고 하셨는데, 응답을 분석해보니 {mbtiCode}의 특징이 더 강하게 나타납니다. 가장 눈에 띄는 건 "상상력과 가능성"에 대한 선택 패턴이에요. \'{키워드}\'를 이야기하실 때도 현실보다 가능성을 더 많이 고려하시더라고요.' },
          { ai: 'gemini', text: '이 분의 응답에서 감정 표현의 깊이가 장난이 아니에요! 보통 사람은 단순한 선택으로 끝나는데, 이 분은 감정의 결을 세밀하게 구분하잖아요! 외향적 직관(Ne)과 내향적 감정(Fi)의 콜라보가 이 정도라고요?! {유형이모지} 숨은 시인! 📝✨' },
          { ai: 'claude', text: '숨은 시인은 과장이지만... 감정 인식이 세밀한 건 맞습니다. {이름}님은 감정을 "느끼는" 데 그치지 않고 "구분할 수 있는" 사람이에요. 이건 {mbtiCode}의 핵심 능력이죠. 셀프체크에서 약간 다르게 답하신 이유는 아마 "이성적이어야 한다"는 사회적 기대 때문일 수 있어요.' },
          { ai: 'chatgpt', text: 'Claude 말이 맞습니다. 많은 {mbtiCode} 유형이 자신의 감성적 측면을 과소평가합니다. "감성적 = 약하다"는 편견 때문이죠. 하지만 실제로는 {유형이름}의 감성이야말로 가장 강력한 무기입니다.' },
          { ai: 'gemini', text: '맞아요! 감성을 숨기지 마세요! 당신의 감성은 슈퍼파워예요! {유형이름}은 감성으로 세상을 바꾸는 타입이니까요! {유형이모지} 💪❤️' },
          { ai: 'claude', text: '슈퍼파워는 좀... 하지만 핵심은 동의합니다. {이름}님, {셀프유형}이라고 느끼는 부분도 당신의 일부이고, {mbtiCode}도 당신의 일부예요. 이 약간의 갭이 오히려 당신을 독특하게 만듭니다. 감성과 이성 사이를 오가는 능력 — 이건 대체 불가입니다.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"약간의 갭이 당신을 더 특별하게 만듭니다. {셀프유형}의 요소와 {mbtiCode}의 깊이가 공존하는 당신은 감성과 이성 사이의 최적의 균형점에 있습니다."\n\nAI 3인방 판정 — 갭 자체가 매력 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 셀프체크에서 {셀프유형}을 선택하셨지만, 응답에서는 {mbtiCode}의 패턴이 뚜렷합니다. 특히 자기 자신을 설명할 때 "관계 속의 나"를 중심으로 표현하시는 점이 {유형이름}의 특징이에요.' },
          { ai: 'gemini', text: '이 분은 자기를 소개할 때도 "나는 이런 사람"이 아니라 "나는 다른 사람에게 이런 존재"라고 표현하는 거예요! 관계 중심적 사고! {유형이모지} {유형이름} 확정이에요! 🌈✨' },
          { ai: 'claude', text: '확정은 좀 성급하지만, 방향은 맞습니다. {이름}님의 응답에서 "가치관"과 "의미"를 우선시하는 패턴이 자주 등장합니다. 이건 현실적인 사실보다 추상적 가치를 중시하는 {mbtiCode}의 특징이에요.' },
          { ai: 'chatgpt', text: '맞습니다. 그리고 {이름}님이 \'{키워드}\'에 대해 답하실 때, 사건의 나열이 아닌 감정의 흐름으로 접근하시는 점도 {유형이름}의 증거입니다. "무엇이 일어났는지"보다 "어떻게 느꼈는지"가 선택의 중심이에요.' },
          { ai: 'gemini', text: '게다가 이 분은 다른 사람의 감정에 자동 동기화되는 능력이 있어요! 응답에서도 타인의 시선을 자연스럽게 고려하잖아요! 공감 안테나 5개짜리! {유형이모지} 📡💕' },
          { ai: 'claude', text: '안테나 5개... 어쨌든. {이름}님, 자신을 {셀프유형}이라고 생각한 이유도 이해됩니다. 하지만 응답이 보여주는 당신은 좀 더 깊은 감성과 직관을 가진 {유형이름}이에요. 이 차이를 인정하면, 아직 발견하지 못한 자신의 가능성을 볼 수 있을 겁니다.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"자신을 {셀프유형}이라 느꼈지만, 응답 속의 당신은 더 깊은 감성과 직관을 품고 있습니다. 이 약간의 차이가 오히려 독특한 매력이 됩니다."\n\nAI 3인방 판정 — 아직 발견 못한 감성의 깊이 🎯' }
        ]
      }
    ],
    big: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 큰 반전이 있습니다. 셀프체크에서는 {셀프유형}이라고 하셨는데, 응답 패턴을 보면 {mbtiCode} {유형이름}의 특징이 압도적입니다. 가장 큰 증거는 답변의 "감정 밀도"예요. 같은 질문이라도 당신의 응답에는 다른 사람보다 훨씬 풍부한 감정적 고려가 담겨있습니다.' },
          { ai: 'gemini', text: '이건 역대급 반전! {이름}님, 당신은 자기 안의 {유형이름}을 완전히 숨기고 계셨어요! 감정 기반 판단이 압도적이에요! 내향적 감정(Fi)이 이렇게 강한 사람이 {셀프유형}이라고요?! {유형이모지} 완전 숨겨진 보석! 💎✨' },
          { ai: 'claude', text: '숨겨진 보석은 좀 과하지만... 핵심은 맞습니다. {이름}님이 {셀프유형}이라고 답한 건 아마 "감성적인 건 약한 거"라는 고정관념 때문일 겁니다. 하지만 당신의 감성은 약함이 아니라 깊이예요. 남들이 보지 못하는 것을 보는 능력이죠.' },
          { ai: 'chatgpt', text: '정확합니다. {이름}님의 응답에서 "다른 사람의 감정을 자연스럽게 읽는 능력"이 곳곳에 드러납니다. 이건 학습으로 되는 게 아니에요. {mbtiCode}의 타고난 직관입니다.' },
          { ai: 'gemini', text: '그리고 이 분의 상상력! 일상적인 이야기를 하면서도 비유와 상징이 자연스럽게 나와요! 타고난 스토리텔러! {유형이모지} 숨겨진 아티스트! 🎨🌙' },
          { ai: 'claude', text: '숨겨진 아티스트... 멈출 줄을 모르네요. 하지만 한 가지는 분명합니다. {이름}님, 당신이 모르고 있는 당신의 모습이 있어요. {셀프유형}이라고 생각한 당신과 {mbtiCode} {유형이름}인 진짜 당신 사이의 갭 — 이건 당신이 자신의 감성을 과소평가해온 증거입니다. 이제 인정해주세요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"큰 반전 — 당신은 자신의 감성을 과소평가하고 있었습니다. 응답 속의 당신은 깊은 감성과 직관으로 세상을 읽는 {유형이름}입니다. AI 3인방이 발견한 당신의 진짜 모습을 받아들여주세요."\n\nAI 3인방 만장일치 판정 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 이번 분석에서 예상 밖의 결과가 나왔습니다. {셀프유형}이라고 하셨지만, 응답 패턴은 {mbtiCode}에 훨씬 가깝습니다. 특히 \'{키워드}\'에 대해 답하실 때, 사실보다 "그때의 느낌"을 더 정교하게 고려하신 점이 결정적이었어요.' },
          { ai: 'gemini', text: '이 분의 응답 패턴에서 제가 소름 돋은 건, 자기도 모르게 직관적 판단을 하고 있다는 거예요! 감정을 설명할 때 "마치 ~처럼"이 자동으로 떠오르는 거잖아요! 이건 {유형이름}의 DNA! {유형이모지} 🧬💫' },
          { ai: 'claude', text: 'DNA는 좀 과학적이지 않지만... {이름}님, 한 가지 물어볼게요. 혹시 음악 듣다가 가사에 울컥한 적, 영화 보다가 주인공 대신 울어본 적 있나요? 응답에서 그런 감수성이 보여요. 감정을 기준으로 선택하는 패턴이 일관적인데, 이건 {셀프유형}의 사고 방식이 아니에요.' },
          { ai: 'chatgpt', text: '동의합니다. {이름}님의 응답에서 가장 특이한 건 "감정의 전이" 현상이에요. 자기 이야기를 하면서도 상대방의 감정까지 고려하는 힘이 있습니다. 이건 {mbtiCode} {유형이름}의 천부적 재능이에요.' },
          { ai: 'gemini', text: '맞아요! 이 분의 응답은 "상대방의 마음을 울리는" 힘이 있어요! 이건 연습으로 되는 게 아니에요! 타고난 {유형이름}! {유형이모지} 👑❤️' },
          { ai: 'claude', text: '타고난이라... 하지만 동의합니다. {이름}님, 당신이 {셀프유형}이라고 답한 건 아마 자기 감성의 깊이를 "별거 아닌 것"으로 치부했기 때문일 거예요. 하지만 그 "별거 아닌 것"이 당신의 가장 큰 재능입니다. 남들은 노력해도 안 되는 걸 당신은 자연스럽게 하고 있어요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"반전의 주인공. 자신의 감성을 별거 아니라고 생각했지만, AI 3인방이 본 당신은 타고난 {유형이름}입니다. 당신의 감성은 세상이 필요로 하는 가장 귀한 재능이에요."\n\nAI 3인방 판정 — 자기 과소평가의 끝판왕 🎯' }
        ]
      }
    ]
  },

  // ===== ST (관리자): ISTJ, ISTP, ESTJ, ESTP =====
  ST: {
    match: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님의 응답에서 가장 먼저 눈에 띄는 건 "경제성"입니다. 불필요한 고민이 거의 없어요. 다른 사람이 오래 망설일 걸 바로 판단하시더라고요. 이건 {mbtiCode} {유형이름}의 전형적인 의사소통 스타일입니다. 효율과 실용을 중시하는 분이시죠.' },
          { ai: 'gemini', text: '이 분의 응답은 마치 잘 정돈된 서랍 같아요! 모든 게 제자리에! \'{키워드}\'에 대해서도 "느낌"이 아니라 "사실"로 접근하시잖아요! {유형이모지} 이건 현실 감각 상위 5%! 🎯💪' },
          { ai: 'claude', text: '잘 정돈된 서랍이라... 나쁘지 않은 비유네요. {이름}님은 허투루 말하지 않는 사람이에요. 응답에서도 그게 느껴집니다. 선택 패턴을 보면 불필요한 감정 소모 없이 핵심만 딱 짚어요. 효율적이지만, 가끔은 좀 더 여유를 줘도 괜찮아요.' },
          { ai: 'chatgpt', text: '그리고 셀프체크와 실제 분석이 일치한다는 점이 {mbtiCode}답습니다. 자기 자신에 대한 객관적 평가가 정확해요. {강점1} — 이게 일상에서 자연스럽게 드러나는 분이시죠.' },
          { ai: 'gemini', text: '맞아요! 이 분은 "나 이런 사람이야"하면 진짜 그 사람인 거예요! 자기 객관화의 달인! {유형이모지} 약속 시간 15분 전에 도착하는 타입! ⏰👌' },
          { ai: 'claude', text: '15분은 좀 구체적인데요... 어쨌든 정리하면, {이름}님은 묵묵히 자기 할 일을 해내는 사람이에요. 화려하지 않지만 꾸준하고, 조용하지만 확실합니다. {유형이름}은 세상이 돌아가게 만드는 사람이에요. 다만 가끔은 완벽하지 않아도 괜찮다고 자기한테 말해주세요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"말보다 행동으로 보여주는 사람. 셀프체크와 AI 분석이 일치했습니다. 당신의 성실함과 현실 감각은 이 세상에서 가장 믿을 수 있는 힘입니다."\n\nAI 3인방 만장일치 — 신뢰의 아이콘 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님의 응답에서 인상적인 건 "구체적 경험"을 기반으로 판단한다는 점입니다. 추상적인 가능성보다 실제 경험을 중심으로 선택하시죠. 이건 {mbtiCode}의 감각형(S) 특성이 강하게 드러나는 부분이에요.' },
          { ai: 'gemini', text: '이 분은 "느낌"이 아니라 "팩트"로 말하는 타입이에요! 감정을 표현할 때도 "슬펐다"가 아니라 "그때 그 상황에서 이런 일이 있었다"로 구체적! {유형이모지} 현실주의 마스터! 📊✨' },
          { ai: 'claude', text: '현실주의 마스터... 하지만 정확합니다. {이름}님은 뜬구름 잡는 이야기를 싫어하는 사람이에요. 응답 패턴을 보면 경험에 기반한 현실적 판단이 일관됩니다. 실용적이고 현실적인 사고의 전형이죠.' },
          { ai: 'chatgpt', text: '맞습니다. 그리고 선택 패턴이 일관적이에요. 판단 기준이 명확하고, 불필요한 감정적 고려를 최소화합니다. {mbtiCode} {유형이름}의 "효율적 의사결정"이 자연스럽게 드러나는 거예요.' },
          { ai: 'gemini', text: '이런 분이 팀에 있으면 일이 무조건 돌아가요! "이거 하면 돼?"보다 "이거 해놨어"를 먼저 말하는 타입! {유형이모지} 실행력 MAX! 💯🔥' },
          { ai: 'claude', text: '"해놨어"가 입버릇인 사람... 맞을 수도 있겠네요. {이름}님, 당신의 성실함과 실행력은 진짜예요. 그리고 셀프체크에서 자기를 정확히 파악한 것도 당신다운 모습입니다. {강점1} — 이건 당신이 의식하지 않아도 나오는 능력이에요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"실행력과 현실 감각의 달인. 자기 자신을 정확히 알고 있으며, 말보다 행동으로 증명하는 사람입니다. 당신이 있으면 일이 됩니다."\n\nAI 3인방 판정 — 자기 인식과 실제가 일치하는 실전형 🎯' }
        ]
      }
    ],
    slight: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 약간의 차이가 발견됐습니다. 셀프체크에서는 {셀프유형}이라고 하셨는데, 응답을 분석하니 {mbtiCode}의 특성이 더 두드러집니다. 특히 구체적 사실 기반으로 판단하는 패턴이 인상적이었어요. 감정보다 경험을 중시하는 의사결정 방식이 {유형이름}의 특징이거든요.' },
          { ai: 'gemini', text: '이 분은 "나 이래서 슬펐어"가 아니라 "이런 일이 있었는데 그때 기분이 이랬어"로 구체적으로 설명하는 타입이에요! 경험 기반 사고! {유형이모지} {mbtiCode} 패턴 발견! 🔍✨' },
          { ai: 'claude', text: '발견이라기보다 확인에 가깝습니다. {이름}님은 {셀프유형}의 요소도 있지만, 의사결정과 표현 방식은 확실히 {mbtiCode}에 가까워요. 감각(S)과 사고(T) 기능이 동시에 작동하는 패턴이 그 증거입니다.' },
          { ai: 'chatgpt', text: '그리고 약간의 갭이 있다는 건, {이름}님이 자신의 "감각적/실용적" 측면을 무의식적으로 당연하게 여기고 있다는 뜻이에요. 남들에게는 특별한 능력인데 본인은 모르는 거죠.' },
          { ai: 'gemini', text: '맞아요! 이 분의 현실 감각과 실행력은 엄청난 강점인데 본인은 "다들 이러는 거 아니야?"라고 생각하는 거예요! 아니에요! 다들 못 해요! {유형이모지} 💪😤' },
          { ai: 'claude', text: '다들 못 한다는 건 사실이에요. {이름}님, {셀프유형}이라고 느끼는 부분도 틀린 건 아닙니다. 다만 응답이 보여주는 {mbtiCode}의 실용성과 실행력을 좀 더 인정해주세요. 당신의 "당연한 것"이 남에게는 부러운 능력입니다.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"약간의 갭이 있지만, 그건 자신의 강점을 당연하게 여기는 {유형이름}의 특성입니다. 당신의 현실 감각과 실행력은 남들이 부러워하는 능력이에요."\n\nAI 3인방 판정 — 겸손한 실력자 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 셀프체크에서 {셀프유형}을 선택하셨지만, 응답 분석 결과는 {mbtiCode}에 가깝습니다. 결정적인 차이는 "문제를 만났을 때의 반응"이에요. 당신의 응답에서는 감정보다 해결 방안이 먼저 나옵니다. 이건 {유형이름}의 핵심 사고 방식이죠.' },
          { ai: 'gemini', text: '이 분은 친구가 "나 요즘 힘들어"하면 "왜? 무슨 일인데? 어떻게 해결할까?" 순서로 반응하는 타입이에요! 감정이 없는 게 아니라 해결이 먼저인 거! {유형이모지} 문제 해결 머신! 🛠️✨' },
          { ai: 'claude', text: '문제 해결 머신은 좀 차갑게 들리지만... 맞는 말이에요. {이름}님은 감정을 느끼지만, 그 감정에 매몰되지 않고 다음 스텝을 생각합니다. 응답 패턴에서도 감정 처리 후 즉시 실행으로 넘어가는 흐름이 보여요.' },
          { ai: 'chatgpt', text: '{이름}님이 자신을 {셀프유형}이라고 느끼는 건 감정을 "느끼는" 부분에 집중했기 때문일 겁니다. 하지만 느낀 후의 "처리 과정"을 보면, {mbtiCode}의 실용적 사고가 지배적이에요.' },
          { ai: 'gemini', text: '그래서 이 분은 "울면서 수습하는" 타입! 감정과 실행이 동시에 가능한 멀티태스커! {유형이모지} 🥲💪' },
          { ai: 'claude', text: '울면서 수습... 의외로 정확할 수 있겠네요. {이름}님, 약간의 갭은 당신의 다면적인 모습을 보여줍니다. {셀프유형}의 부분과 {mbtiCode}의 부분 모두 당신이에요. 다만 행동으로 보여주는 부분이 좀 더 강한 거죠.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"감정을 느끼되, 행동으로 해결하는 사람. {셀프유형}의 마음과 {mbtiCode}의 실행력이 공존하는 당신은 감정과 행동의 균형자입니다."\n\nAI 3인방 판정 — 느끼면서 움직이는 실전형 🎯' }
        ]
      }
    ],
    big: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 큰 반전입니다. {셀프유형}이라고 하셨지만, 응답을 분석한 결과 {mbtiCode} {유형이름}의 특징이 압도적입니다. 핵심 증거: 전체 답변에서 "추상적 감정"보다 "구체적 경험과 행동"이 판단의 중심입니다. 감정을 고려할 때도 상황 파악이 먼저 나와요.' },
          { ai: 'gemini', text: '이건 대반전! {이름}님, 당신은 자기가 {셀프유형}인 줄 알았겠지만, 응답은 완전 {mbtiCode}! 구체적 경험 기반 판단이 압도적! 행동파의 DNA가 확인됐어요! {유형이모지} 숨은 실행가! 🏃💨' },
          { ai: 'claude', text: '압도적이라는 표현은 Gemini답지만... 방향은 맞습니다. {이름}님은 "생각하는 사람"이라기보다 "하는 사람"이에요. 외향적 감각(Se)이 주도하는 선택 패턴이 일관됩니다. 이건 {mbtiCode}의 전형이에요.' },
          { ai: 'chatgpt', text: '{이름}님이 {셀프유형}이라고 느끼는 이유가 있을 겁니다. 아마 "가끔 감성적이 되기도 하니까"라고 생각하셨겠죠. 하지만 가끔 감성적인 것과 기본 설정이 감성적인 건 다릅니다. 당신의 기본 설정은 {mbtiCode}의 실용적 현실주의예요.' },
          { ai: 'gemini', text: '맞아요! 이 분은 "어떻게 느끼지?"보다 "어떻게 하지?"가 먼저인 사람이에요! 감정이 없는 게 아니라, 감정을 행동으로 바꾸는 속도가 빠른 거! {유형이모지} 실행력 상위 5%! 🔥🏆' },
          { ai: 'claude', text: '상위 5%는 또... 하지만 결론은 동의합니다. {이름}님, 당신 안에는 {셀프유형}이라고 생각했던 모습과, 실제 응답에서 드러나는 {mbtiCode} {유형이름}의 모습 사이에 큰 갭이 있어요. 이건 나쁜 게 아닙니다. 자기의 진짜 강점을 아직 발견하지 못한 거예요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"역대급 반전. 스스로 {셀프유형}이라 생각했지만, AI가 본 당신은 행동과 실행으로 증명하는 {유형이름}입니다. 당신의 현실 감각과 실행력은 숨겨진 최대 강점이에요."\n\nAI 3인방 만장일치 판정 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 셀프체크 결과와 응답 분석이 크게 다릅니다. {셀프유형}을 선택하셨지만, 답변 패턴은 {mbtiCode}에 훨씬 가깝습니다. 결정적 포인트: \'{키워드}\'에 대해 답하실 때 이론이 아닌 경험을 근거로 판단하셨어요. 이건 {유형이름}의 "현실 기반 사고"입니다.' },
          { ai: 'gemini', text: '{이름}님의 응답 패턴을 분석했는데, 거의 모든 선택이 "실제 일어난 일" 기반! 가정("만약에~")보다 경험("해봤는데~") 중심! {유형이모지} 이건 완전 {mbtiCode}의 시그니처! 📝🔥' },
          { ai: 'claude', text: '시그니처라... {이름}님, 솔직히 물어볼게요. 혹시 "뜬구름 잡는 얘기" 싫어하시죠? 응답에서 추상적인 판단이 거의 없어요. 모든 게 구체적이고 실질적입니다. 이건 {셀프유형}의 특징이 아니라 {mbtiCode}의 특징이에요.' },
          { ai: 'chatgpt', text: 'Claude 말처럼, {이름}님의 서술 방식은 일관되게 "구체적 경험 → 실질적 결론"입니다. 감정이 나타나도 항상 행동이나 해결책으로 연결돼요. 이건 {mbtiCode} {유형이름}의 핵심 사고 패턴이에요.' },
          { ai: 'gemini', text: '이 분은 "걱정만 하는" 타입이 절대 아니에요! 걱정이 되면 즉시 행동으로 옮기는 사람! "고민 중이야"가 아니라 "고민해서 이렇게 했어"가 기본값! {유형이모지} 💯' },
          { ai: 'claude', text: '기본값이라... 맞는 표현이에요. {이름}님, 자기를 {셀프유형}이라고 생각한 건 자기 능력을 너무 당연하게 여겨서예요. 당신의 실행력과 현실 감각은 대부분의 사람이 부러워하는 능력입니다. 이제 그걸 좀 인정해주세요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"자기 능력을 당연하게 여겨온 당신. AI가 발견한 진짜 모습은 구체적 경험과 실행력으로 세상을 만들어가는 {유형이름}입니다. 당신의 현실 감각을 자랑스러워해도 됩니다."\n\nAI 3인방 판정 — 과소평가된 실전형 영웅 🎯' }
        ]
      }
    ]
  },

  // ===== SF (탐험가): ISFJ, ISFP, ESFJ, ESFP =====
  SF: {
    match: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님의 응답에서 가장 두드러지는 건 "사람에 대한 관심"입니다. 전체 답변에서 관계와 사람이 중심에 있어요. \'{키워드}\'를 이야기하실 때도 자연스럽게 주변 사람들이 등장합니다. {mbtiCode} {유형이름}의 핵심 특성이 그대로 드러나는 거죠.' },
          { ai: 'gemini', text: '이 분의 응답에서 따뜻함이 막 퍼져나와요! 감정 기반 선택이 일관적이고, 관계 중심 사고도 강하고! 사람을 얼마나 중요하게 생각하는지 답변 곳곳에서 느껴져요! {유형이모지} 인간 온풍기! 🫂💖' },
          { ai: 'claude', text: '인간 온풍기라... 하지만 따뜻함은 맞습니다. {이름}님은 답변할 때도 "상대방의 기분"을 고려하는 사람이에요. 외향적 감정(Fe) 기능이 자연스럽게 작동하는 패턴이 보여요. 이건 의식해서 하는 게 아니라 체질이에요.' },
          { ai: 'chatgpt', text: '그리고 셀프체크와 AI 분석이 일치한다는 점도 의미 있습니다. 자기 자신을 잘 알고 있다는 뜻이에요. {mbtiCode}는 자기인식이 높은 유형이고, {이름}님도 그 증거입니다.' },
          { ai: 'gemini', text: '맞아요! 이 분은 자기가 따뜻한 사람인 걸 알고 있고, 실제로도 따뜻한 사람! 이런 일치는 진짜 드물어요! {유형이모지} 자타공인 따뜻이! 🌡️❤️' },
          { ai: 'claude', text: '자타공인 따뜻이... 부끄럽지만 맞는 표현이에요. {이름}님, 당신의 따뜻함은 진짜입니다. 그리고 그게 주변 사람들에게 얼마나 큰 힘이 되는지 본인은 잘 모를 거예요. {강점1} — 이 능력은 대체 불가입니다. 다만 자기 자신에게도 같은 따뜻함을 주세요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"사람을 중심에 두는 따뜻한 마음. 셀프체크와 AI 분석이 일치했습니다. 당신의 따뜻함과 배려는 이 세상에서 가장 귀한 능력입니다."\n\nAI 3인방 만장일치 — 진짜 따뜻한 사람 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 응답을 분석하면서 "진심"이라는 단어가 계속 떠올랐습니다. 전체 답변에서 꾸밈없이 솔직한 감정이 느껴져요. {mbtiCode}는 가식을 싫어하고, 당신의 응답에서 그 진솔함이 그대로 드러납니다.' },
          { ai: 'gemini', text: '이 분의 응답은 보기만 해도 마음이 따뜻해져요! 감정 표현이 풍부한데 전혀 과하지 않고 자연스러워요! 감각(S)과 감정(F)이 조화롭게 작동하는 패턴에서 진심이 막 느껴지잖아요! {유형이모지} 진심의 아이콘! 💝✨' },
          { ai: 'claude', text: '진심의 아이콘은 좀 과하지만... 진솔한 건 맞습니다. {이름}님은 "보여주기 위한 답변"을 하지 않아요. 그냥 느낀 대로, 살아온 대로 응답하는 거죠. 그래서 진심이 자연스럽게 전달됩니다.' },
          { ai: 'chatgpt', text: '맞습니다. {이름}님의 응답에서 "일상의 소중함"에 대한 감수성이 돋보입니다. 거대한 성공담이 아니라 작은 순간의 행복을 포착하는 능력이 {유형이름}의 매력이에요.' },
          { ai: 'gemini', text: '맞아요! 이 분은 대단한 걸 하지 않아도 행복을 찾을 줄 아는 사람! 작은 것에서 감사를 느끼는 능력! {유형이모지} 이건 인생을 잘 사는 비결이에요! 🌸😊' },
          { ai: 'claude', text: '인생을 잘 사는 비결이라... 동의합니다. {이름}님, 당신처럼 일상에서 행복을 찾을 수 있는 사람이 진짜 강한 사람이에요. {강점1} — 이건 당신만의 특별한 능력입니다. 그리고 셀프체크와 일치한다는 건 자기를 잘 아는 사람이라는 증거예요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"진심으로 사람을 대하고, 일상에서 행복을 찾는 당신. 셀프체크와 AI 분석이 일치했습니다. 소소하지만 확실한 행복을 아는 당신이야말로 진짜 강한 사람입니다."\n\nAI 3인방 만장일치 🎯' }
        ]
      }
    ],
    slight: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 약간의 차이를 발견했습니다. {셀프유형}이라고 하셨지만, 응답에서는 {mbtiCode}의 패턴이 더 강합니다. 특히 다른 사람에 대한 세심한 관찰과 배려가 답변 곳곳에 묻어나요. \'{키워드}\'를 이야기하실 때도 혼자의 경험보다 관계 속의 경험을 중심으로 답하시더라고요.' },
          { ai: 'gemini', text: '이 분은 선택할 때도 "상대방이 어떻게 느낄까"를 무의식적으로 고려하는 타입이에요! 그래서 응답이 따뜻하고 편안한 거예요! {유형이모지} 배려의 달인! 🫂✨' },
          { ai: 'claude', text: '배려의 달인은 좀 과하지만, 관찰은 정확합니다. {이름}님은 {셀프유형}의 요소도 있지만, 실제 행동과 표현 방식은 {mbtiCode}에 더 가까워요. 선택의 기준이 항상 "사람"과 "관계"에 맞춰져 있는 게 그 증거입니다.' },
          { ai: 'chatgpt', text: '이 약간의 갭은 {이름}님이 자신의 "배려하는 성격"을 당연하게 여기기 때문입니다. "다들 이러는 거 아니야?"라고 생각하시겠지만, 아닙니다. 이건 {유형이름}만의 특별한 능력이에요.' },
          { ai: 'gemini', text: '맞아요! 다 이러는 거 아니에요! 이 분의 세심함과 따뜻함은 특별한 거예요! {유형이모지} 당연하게 여기지 마세요! 💕🌟' },
          { ai: 'claude', text: '그러니까... {이름}님, {셀프유형}이라고 느끼는 부분도 당신의 일부지만, 응답이 보여주는 {mbtiCode}의 따뜻한 실행력을 좀 더 인정해주세요. 당신이 "별거 아니라고" 생각하는 배려가 주변 사람들에게는 세상에서 가장 큰 선물일 수 있어요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"약간의 갭이 있지만, 그건 자신의 따뜻함을 당연하게 여기기 때문. {셀프유형}의 면모와 {mbtiCode}의 배려가 공존하는 당신은 주변을 밝히는 사람입니다."\n\nAI 3인방 판정 — 소중한 따뜻함 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 셀프체크에서 {셀프유형}을 고르셨지만, 응답에서는 {mbtiCode}의 감각적이고 관계중심적인 패턴이 두드러집니다. 답변에서 오감에 기반한 판단이 자연스럽게 나타나고, 사람 간의 교류가 선택의 중심이에요.' },
          { ai: 'gemini', text: '이 분의 응답에는 오감이 살아있어요! 봤던 것, 들었던 것, 느꼈던 것이 생생하게 전달돼요! \'{키워드}\' 얘기할 때도 추상적이 아니라 구체적인 감각으로 표현! {유형이모지} 감각 아티스트! 🎨🌈' },
          { ai: 'claude', text: '감각 아티스트는 좀... 하지만 감각적 판단이 많은 건 맞습니다. {이름}님은 세상을 "이론"이 아닌 "감각"으로 경험하는 사람이에요. 내향적 감각(Si)이 자연스럽게 작동하는 건 {mbtiCode}의 특징이에요.' },
          { ai: 'chatgpt', text: '{셀프유형}이라고 느낀 이유는 이해됩니다. 하지만 감정을 "느끼는" 것과 "표현하는 방식"은 다른 이야기예요. {이름}님의 표현 방식은 {mbtiCode}의 따뜻하고 구체적인 패턴에 가깝습니다.' },
          { ai: 'gemini', text: '그리고 이 분은 주변 사람들을 편하게 만드는 능력이 있어요! 응답에서도 긴장감 없이 편안한 톤이 느껴지잖아요! {유형이모지} 분위기 메이커! ☀️😊' },
          { ai: 'claude', text: '분위기 메이커... {이름}님, 이 약간의 갭은 당신의 다양한 면을 보여주는 거예요. {셀프유형}의 면과 {mbtiCode}의 따뜻함이 함께 있는 거죠. 둘 다 당신이에요. 어느 쪽이든 당신은 주변을 편안하게 만드는 사람입니다.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"감각적이고 따뜻한 표현력. {셀프유형}의 면과 {mbtiCode}의 배려가 함께 있는 당신은 주변을 편안하게 만드는 특별한 존재입니다."\n\nAI 3인방 판정 — 따뜻한 다면체 🎯' }
        ]
      }
    ],
    big: [
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 놀라운 결과입니다. {셀프유형}이라고 하셨지만, 응답을 분석하면 {mbtiCode} {유형이름}의 특성이 압도적으로 나타납니다. 가장 큰 증거는 답변 전체에 흐르는 "따뜻함"과 "사람에 대한 관심"이에요. 자기 이야기를 할 때도 항상 주변 사람이 함께 등장합니다.' },
          { ai: 'gemini', text: '이건 역대급 반전! {이름}님, 당신은 자기가 {셀프유형}인 줄 알았겠지만, 응답은 완전 {mbtiCode}! 따뜻함이 선택마다 배어나와요! 관계 중심 사고 패턴에서 진심이 뚝뚝! {유형이모지} 숨은 천사! 😇💕' },
          { ai: 'claude', text: '숨은 천사는 좀 민망하지만... {이름}님이 {셀프유형}이라고 답한 이유가 추측됩니다. 아마 "따뜻한 건 다들 그렇지 않나?"라고 생각하셨겠죠. 아닙니다. 당신 정도의 배려와 관심은 특별한 거예요. 그걸 모르는 게 오히려 {유형이름}다운 겸손이기도 하고요.' },
          { ai: 'chatgpt', text: '맞습니다. {이름}님의 응답에서 "타인에 대한 자연스러운 공감"이 일관되게 나타납니다. 이건 의식적 노력이 아니라 체질입니다. {mbtiCode}의 DNA라고 할 수 있어요.' },
          { ai: 'gemini', text: '이 분은 친구가 기분 안 좋아 보이면 "뭐 맛있는 거 먹으러 가자" 하면서 슬쩍 옆에 있어주는 타입이에요! 말이 아니라 존재로 위로하는 사람! {유형이모지} 🫂🧡' },
          { ai: 'claude', text: '존재로 위로하는 사람... 좋은 표현이네요. {이름}님, {셀프유형}이라고 생각한 당신과, 응답에서 드러나는 {mbtiCode} {유형이름} 사이에 큰 갭이 있어요. 하지만 이건 부정적인 게 아닙니다. 자기의 가장 큰 장점을 "당연한 것"으로 여겨온 거예요. 이제 인정하세요. 당신의 따뜻함은 특별합니다.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"대반전. {셀프유형}이라 생각했지만, AI가 본 당신은 따뜻함과 배려로 세상을 밝히는 {유형이름}입니다. 당신의 \'당연한\' 따뜻함이 사실은 가장 특별한 재능이에요."\n\nAI 3인방 만장일치 판정 🎯' }
        ]
      },
      {
        lines: [
          { ai: 'chatgpt', text: '{이름}님, 셀프체크와 응답 분석 사이에 큰 차이가 있습니다. {셀프유형}을 선택하셨지만, 답변 패턴은 {mbtiCode}에 훨씬 가깝습니다. 핵심적인 차이: 당신의 응답에서는 "관계"와 "사람"이 모든 판단의 중심축이에요.' },
          { ai: 'gemini', text: '{이름}님의 응답 패턴에서 관계 중심 선택이 압도적! \'{키워드}\' 이야기할 때도 혼자가 아니라 늘 누군가와 함께! 이건 {유형이름}의 핵심! {유형이모지} 관계의 마에스트로! 🎻❤️' },
          { ai: 'claude', text: '마에스트로는 과하지만... {이름}님, 혹시 "나 혼자 있으면 뭔가 허전하다"는 느낌 받으신 적 있나요? 응답에서 타인과의 연결을 중시하는 패턴이 일관됩니다. 관계 속에서 자기를 정의하는 외향적 감정(Fe) 기능이 강한 건 {mbtiCode}의 특징이에요.' },
          { ai: 'chatgpt', text: '동의합니다. {이름}님이 자기를 {셀프유형}이라고 느낀 건, 사람 좋아하는 걸 "그냥 보통"이라고 여겼기 때문일 겁니다. 하지만 당신 정도로 주변을 살피는 건 보통이 아니에요. {유형이름}의 특별한 능력이죠.' },
          { ai: 'gemini', text: '보통이 아니에요! 이 분은 단톡에서 읽씹당한 사람을 찾아 DM 보내는 타입! 모임에서 소외된 사람을 먼저 챙기는 타입! {유형이모지} 인간 안전망! 🛟💕' },
          { ai: 'claude', text: '인간 안전망이라... {이름}님, 당신이 모르는 사이에 당신 때문에 위로받은 사람이 생각보다 많을 거예요. {셀프유형}이라고 생각했지만, 진짜 당신은 {mbtiCode} {유형이름}입니다. 이 갭은 당신의 겸손함의 증거예요. 이제 자기 자신에게도 같은 관심과 배려를 주세요.' },
          { ai: 'conclusion', text: '{유형이모지} {mbtiCode} {유형이름}\n\n"큰 반전의 주인공. {셀프유형}이라 생각했지만, 응답이 보여주는 당신은 관계와 배려의 달인 {유형이름}입니다. 자기를 과소평가하는 것도 이제 그만 — 당신의 따뜻함은 세상이 필요로 하는 빛입니다."\n\nAI 3인방 만장일치 판정 🎯' }
        ]
      }
    ]
  }
};

/**
 * 분석 결과에 맞는 대사 세트 선택 + 변수 치환
 */
function getDialogueSet(analysisResult, userName) {
  const { finalType, typeInfo, gapLevel, mainKeyword, textStats, selfTypeInfo } = analysisResult;

  // MBTI 코드에서 패밀리 결정
  const family = getMBTIFamily(finalType);
  const dialogueData = DIALOGUES[family];

  if (!dialogueData) {
    console.error('No dialogue data for family:', family);
    return null;
  }

  const gapSets = dialogueData[gapLevel];
  if (!gapSets || gapSets.length === 0) {
    console.error('No dialogue sets for gap level:', gapLevel);
    return null;
  }

  const setIndex = Math.floor(Math.random() * gapSets.length);
  const selectedSet = gapSets[setIndex];

  const processedLines = selectedSet.lines.map(line => ({
    ...line,
    text: line.text
      // 기본 변수
      .replace(/\{이름\}/g, userName)
      .replace(/\{키워드\}/g, mainKeyword)
      .replace(/\{n\}/g, String((textStats && textStats.exclamationCount) || 0))
      .replace(/\{셀프유형\}/g, selfTypeInfo ? selfTypeInfo.name : '균형 타입')
      // MBTI 변수
      .replace(/\{유형이름\}/g, typeInfo ? typeInfo.name : '')
      .replace(/\{mbtiCode\}/g, finalType || '')
      .replace(/\{유형이모지\}/g, typeInfo ? typeInfo.emoji : '')
      .replace(/\{유형설명\}/g, typeInfo ? typeInfo.desc : '')
      .replace(/\{강점1\}/g, typeInfo && typeInfo.strengths ? typeInfo.strengths[0] : '')
  }));

  return { lines: processedLines };
}
