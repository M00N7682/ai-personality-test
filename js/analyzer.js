/**
 * ë¶„ì„ ì—”ì§„
 * - 16ìœ í˜• MBTI íŒë³„
 * - 4ì¶• ì ìˆ˜ ê³„ì‚° (E/I, S/N, T/F, J/P)
 * - ê°ì • DNA ì‚°ì¶œ
 * - ì…€í”„ ê°­ ë¶„ì„
 */

const TYPE_INFO = {
  ENTJ: {
    name: 'ì „ëµì  í†µì†”ì', emoji: 'â™Ÿï¸', mbtiCode: 'ENTJ',
    desc: 'íƒ€ê³ ë‚œ ë¦¬ë”, ë¹„ì „ì„ í˜„ì‹¤ë¡œ ë§Œë“œëŠ” ì‚¬ëŒ',
    detail: 'ë‹¹ì‹ ì€ ë³µì¡í•œ ìƒí™©ì—ì„œë„ ëƒ‰ì •í•˜ê²Œ íŒë‹¨ì„ ë‚´ë¦´ ìˆ˜ ìˆëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ì£¼ë³€ ì‚¬ëŒë“¤ì´ í˜¼ë€ì— ë¹ ì ¸ ìˆì„ ë•Œ, ë‹¹ì‹ ì€ ì´ë¯¸ ë¨¸ë¦¿ì†ì—ì„œ 3ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ëŒë¦¬ê³  ìˆì£ . ê·¸ëŸ°ë° ë” ë†€ë¼ìš´ ê±´, ê·¸ ê³„ì‚°ì„ ë‚¨ë“¤ì´ ì•Œì•„ë“£ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ë‹ˆë‹¤. ì „ëµì„ ì„¸ìš°ëŠ” ê±´ ë§ì€ ì‚¬ëŒì´ í•˜ì§€ë§Œ, ê·¸ê±¸ ì‹¤í–‰ì‹œí‚¤ëŠ” ê±´ ë‹¹ì‹  ê°™ì€ ì‚¬ëŒë¿ì…ë‹ˆë‹¤.',
    strengths: ['ê²°ë‹¨ë ¥ê³¼ ì¶”ì§„ë ¥ì´ ë›°ì–´ë‚¨', 'ì¥ê¸°ì  ë¹„ì „ì„ ì œì‹œí•˜ê³  ì‹¤í–‰í•¨', 'íš¨ìœ¨ì ìœ¼ë¡œ íŒ€ì„ ì´ë„ëŠ” ë¦¬ë”ì‹­'],
    weaknesses: ['ì§€ë‚˜ì¹œ íš¨ìœ¨ ì¶”êµ¬ë¡œ ê°ì •ì„ ë†“ì¹  ìˆ˜ ìˆìŒ', 'íƒ€ì¸ì˜ ì†ë„ë¥¼ ê¸°ë‹¤ë¦¬ê¸° ì–´ë ¤ì›€', 'ì™„ë²½ì£¼ì˜ê°€ ìì‹ ì„ ì§€ì¹˜ê²Œ í•  ìˆ˜ ìˆìŒ'],
    careers: ['CEO/ê²½ì˜ì', 'ì „ëµ ì»¨ì„¤í„´íŠ¸', 'í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €', 'ë³€í˜¸ì‚¬'],
    loveStyle: 'ì—°ì• ì—ì„œë„ ëª©í‘œ ì§€í–¥ì . ìƒëŒ€ì—ê²Œ ì†”ì§í•˜ê³  ì§ì„¤ì ìœ¼ë¡œ í‘œí˜„í•˜ë©°, í•¨ê»˜ ì„±ì¥í•˜ëŠ” ê´€ê³„ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤. ë‹¤ë§Œ ê°€ë” "íš¨ìœ¨"ë³´ë‹¤ "ë¹„íš¨ìœ¨ì ì¸ ë‹¤ì •í•¨"ì´ í•„ìš”í•  ë•Œê°€ ìˆì–´ìš”.',
    funFact: 'íšŒì˜ì—ì„œ ì¡°ìš©íˆ ë“£ê³  ìˆë‹¤ê°€ ë§ˆì§€ë§‰ì— í•œë§ˆë””ë¡œ ê²°ë¡  ë‚´ëŠ” íƒ€ì…. ì£¼ë³€ì—ì„œ "ë„ˆ ì—†ìœ¼ë©´ ì´ê±° ì–´ë–»ê²Œ í–ˆì–´?"ë¼ëŠ” ë§ ìì£¼ ë“£ìŠµë‹ˆë‹¤.',
    warning: 'ê°€ë” ë„ˆë¬´ íš¨ìœ¨ë§Œ ë”°ì§€ë‹¤ê°€ ì£¼ë³€ ì‚¬ëŒ ë§ˆìŒì„ ë†“ì¹  ìˆ˜ ìˆì–´ìš”. ëª¨ë“  ê´€ê³„ê°€ ì „ëµìœ¼ë¡œ í’€ë¦¬ëŠ” ê±´ ì•„ë‹ˆëë‹ˆë‹¤.',
    bestMatch: 'INFP ê°ì„± ëª½ìƒê°€ ğŸŒ™',
    worstMatch: 'ESFP í¥ì˜ í™”ì‹  ğŸ‰'
  },
  ENTP: {
    name: 'ë…¼ìŸì˜ ë‹¬ì¸', emoji: 'ğŸ’¡', mbtiCode: 'ENTP',
    desc: 'ëì—†ëŠ” ì•„ì´ë””ì–´ì™€ ë…¼ìŸì„ ì¦ê¸°ëŠ” ë°œëª…ê°€',
    detail: 'ë‹¹ì‹ ì˜ ë¨¸ë¦¿ì†ì€ 24ì‹œê°„ ë¸Œë ˆì¸ìŠ¤í† ë° ì¤‘ì…ë‹ˆë‹¤. "ì´ê±° ì´ë ‡ê²Œ í•˜ë©´ ì•ˆ ë¼?" ë¼ëŠ” ì§ˆë¬¸ì´ ë‹¹ì‹ ì˜ ì—ë„ˆì§€ì›ì´ì£ . ê¸°ì¡´ì˜ ê·œì¹™ì´ë‚˜ í‹€ì— ê°‡íˆëŠ” ê±¸ ì‹«ì–´í•˜ê³ , í•­ìƒ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ íƒìƒ‰í•©ë‹ˆë‹¤. í† ë¡ ì—ì„œëŠ” ì¼ë¶€ëŸ¬ ë°˜ëŒ€í¸ì— ì„œì„œ ë…¼ë¦¬ë¥¼ ì‹œí—˜í•˜ê¸°ë„ í•˜ì£ . ê·¸ê²Œ ì¬ë¯¸ìˆìœ¼ë‹ˆê¹Œìš”.',
    strengths: ['ì°½ì˜ì  ë¬¸ì œ í•´ê²° ëŠ¥ë ¥', 'ë¹ ë¥¸ ìƒí™© íŒë‹¨ê³¼ ì ì‘ë ¥', 'ì§€ì  í˜¸ê¸°ì‹¬ì´ ë¬´í•œí•¨'],
    weaknesses: ['ì‹œì‘ì€ ì˜í•˜ì§€ë§Œ ë§ˆë¬´ë¦¬ê°€ ì•½í•  ìˆ˜ ìˆìŒ', 'ë…¼ìŸ ìì²´ë¥¼ ì¦ê²¨ ìƒëŒ€ë¥¼ ì§€ì¹˜ê²Œ í•  ìˆ˜ ìˆìŒ', 'ë£¨í‹´í•œ ì‘ì—…ì— ì‰½ê²Œ ì§€ë£¨í•´í•¨'],
    careers: ['ê¸°ì—…ê°€/ìŠ¤íƒ€íŠ¸ì—…', 'ë§ˆì¼€íŒ… ì „ëµê°€', 'ë³€ë¦¬ì‚¬', 'í¬ë¦¬ì—ì´í‹°ë¸Œ ë””ë ‰í„°'],
    loveStyle: 'ì§€ì  ìê·¹ì´ ìˆëŠ” ì—°ì• ë¥¼ ì›í•©ë‹ˆë‹¤. ìƒëŒ€ì™€ ë°¤ìƒˆ í† ë¡ í•  ìˆ˜ ìˆìœ¼ë©´ ìµœê³ ! ì˜ˆì¸¡ ê°€ëŠ¥í•œ ê´€ê³„ë³´ë‹¤ ì„œë¡œë¥¼ ë†€ë¼ê²Œ í•˜ëŠ” ê´€ê³„ë¥¼ ì„ í˜¸í•´ìš”.',
    funFact: '"ê·¼ë° ë°˜ëŒ€ë¡œ ìƒê°í•´ë³´ë©´..." ì´ ë§ì„ í•˜ë£¨ì— 5ë²ˆ ì´ìƒ í•©ë‹ˆë‹¤. ì£¼ë³€ì—ì„œ "ë„ˆëŠ” ì™œ í•­ìƒ ë°˜ëŒ€ì•¼?"ë¼ê³  í•˜ì§€ë§Œ, ë°˜ëŒ€í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ê°€ëŠ¥ì„±ì„ íƒìƒ‰í•˜ëŠ” ê±°ì˜ˆìš”.',
    warning: 'ì•„ì´ë””ì–´ëŠ” ì‹¤í–‰í•´ì•¼ ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤. 1000ê°œì˜ ì•„ì´ë””ì–´ë³´ë‹¤ 1ê°œì˜ ì™„ì„±ëœ í”„ë¡œì íŠ¸ê°€ ë” ê°’ì ¸ìš”.',
    bestMatch: 'INFJ ì„ ì˜ì˜ ì˜¹í˜¸ì ğŸ”®',
    worstMatch: 'ISTJ í˜„ì‹¤ì£¼ì˜ì ğŸ›ï¸'
  },
  ENFJ: {
    name: 'ì •ì˜ì˜ ì‚¬ë„', emoji: 'ğŸŒŸ', mbtiCode: 'ENFJ',
    desc: 'ì‚¬ëŒë“¤ì„ ì´ëŒê³  ì˜ê°ì„ ì£¼ëŠ” ì¹´ë¦¬ìŠ¤ë§ˆ',
    detail: 'ë‹¹ì‹ ì´ ë°©ì— ë“¤ì–´ê°€ë©´ ê³µê¸°ê°€ ë°”ë€ë‹ˆë‹¤. ì‚¬ëŒë“¤ì˜ ì ì¬ë ¥ì„ ì•Œì•„ë³´ê³ , ê·¸ê±¸ ëŒì–´ë‚´ëŠ” ë° ì²œë¶€ì ì¸ ì¬ëŠ¥ì´ ìˆì£ . "ë„ˆëŠ” ì´ê²ƒë³´ë‹¤ ë” í•  ìˆ˜ ìˆì–´"ë¼ëŠ” ë§ì´ ê°€ì¥ ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜ì˜¤ëŠ” ì‚¬ëŒ. ë‹¤ë¥¸ ì‚¬ëŒì˜ ì„±ì¥ì´ ê³§ ë‹¹ì‹ ì˜ ê¸°ì¨ì´ì—ìš”.',
    strengths: ['ë›°ì–´ë‚œ ê³µê° ëŠ¥ë ¥ê³¼ ì†Œí†µë ¥', 'íŒ€ì˜ ì ì¬ë ¥ì„ ëŒì–´ë‚´ëŠ” ë¦¬ë”ì‹­', 'ê°ˆë“± ì¡°ì •ê³¼ í™”í•©ì— íƒì›”í•¨'],
    weaknesses: ['íƒ€ì¸ì˜ ë¬¸ì œë¥¼ ìê¸° ê²ƒì²˜ëŸ¼ ì§Šì–´ì§', 'ê±°ì ˆí•˜ê¸° ì–´ë ¤ì›Œ ê³¼ë¶€í•˜ ê±¸ë¦¼', 'ìê¸° ìš•êµ¬ë¥¼ ë’¤ë¡œ ë¯¸ë£¨ëŠ” ê²½í–¥'],
    careers: ['êµìœ¡ì/êµìˆ˜', 'ìƒë‹´ì‚¬/ì½”ì¹˜', 'HR ë§¤ë‹ˆì €', 'NGO ë¦¬ë”'],
    loveStyle: 'ìƒëŒ€ì˜ ì„±ì¥ì„ ë•ëŠ” ê±¸ ì‚¬ë‘ì˜ í‘œí˜„ìœ¼ë¡œ ì—¬ê¹ë‹ˆë‹¤. ê¹Šì€ ê°ì •ì  êµë¥˜ë¥¼ ì›í•˜ê³ , ê´€ê³„ì—ì„œë„ "ì˜ë¯¸"ë¥¼ ì¤‘ìš”ì‹œí•´ìš”. ë‹¤ë§Œ ìê¸° ìì‹ ë„ ëŒë´ì•¼ í•œë‹¤ëŠ” ê±¸ ìŠì§€ ë§ˆì„¸ìš”.',
    funFact: 'ì¹œêµ¬ë“¤ ì‚¬ì´ì—ì„œ "ì¸ìƒ ë©˜í† " ì—­í• . ëª¨ì„ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ì¤‘ì‹¬ì´ ë˜ì§€ë§Œ ë³¸ì¸ì€ "ë‚˜ ê·¸ëƒ¥ ë“£ê³  ìˆì—ˆëŠ”ë°?"ë¼ê³  í•©ë‹ˆë‹¤.',
    warning: 'ëª¨ë“  ì‚¬ëŒì„ êµ¬í•  ìˆœ ì—†ì–´ìš”. ë‹¹ì‹ ì˜ ì—ë„ˆì§€ì—ë„ í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. ê°€ë”ì€ ìê¸° ìì‹ ì—ê²Œë„ ê·¸ ë”°ëœ»í•¨ì„ ëŒë ¤ì£¼ì„¸ìš”.',
    bestMatch: 'ISTP ë§ŒëŠ¥ ì¥ì¸ ğŸ”§',
    worstMatch: 'INTP ë…¼ë¦¬í•™ì ğŸ”¬'
  },
  ENFP: {
    name: 'ììœ ë¡œìš´ ì˜í˜¼', emoji: 'ğŸ¦‹', mbtiCode: 'ENFP',
    desc: 'ì—´ì •ê³¼ ìƒìƒë ¥ìœ¼ë¡œ ì„¸ìƒì„ ë°íˆëŠ” ì‚¬ëŒ',
    detail: 'ë‹¹ì‹ ì—ê²ŒëŠ” ì´ìƒí•œ ëŠ¥ë ¥ì´ ìˆìŠµë‹ˆë‹¤. í¸ì˜ì ì—ì„œ ì‚¼ê°ê¹€ë°¥ ê³ ë¥¸ ì´ì•¼ê¸°ë„ ë‹¹ì‹ ì´ í•˜ë©´ ë„·í”Œë¦­ìŠ¤ ì‹œë¦¬ì¦ˆê°€ ë©ë‹ˆë‹¤. ê°ì •ì´ í’ë¶€í•˜ê³ , ì‚¬ëŒ í•œ ëª… í•œ ëª…ì—ê²Œ ì§„ì‹¬ìœ¼ë¡œ ê´€ì‹¬ì„ ê°€ì§€ì£ . "ê°€ëŠ¥ì„±"ì´ë¼ëŠ” ë‹¨ì–´ê°€ ë‹¹ì‹ ì—ê²ŒëŠ” ë§ˆë²• ì£¼ë¬¸ ê°™ì€ ê±°ì˜ˆìš”.',
    strengths: ['ë†€ë¼ìš´ ì°½ì˜ë ¥ê³¼ ìƒìƒë ¥', 'ì‚¬ëŒë“¤ê³¼ ë¹ ë¥´ê²Œ ê³µê°í•˜ëŠ” ëŠ¥ë ¥', 'ìƒˆë¡œìš´ ê²ƒì— ëŒ€í•œ ì—´ì •ê³¼ ì—ë„ˆì§€'],
    weaknesses: ['ê´€ì‹¬ì‚¬ê°€ ë„ˆë¬´ ìì£¼ ë°”ë€” ìˆ˜ ìˆìŒ', 'ê°ì • ê¸°ë³µì´ í´ ë•Œê°€ ìˆìŒ', 'í˜„ì‹¤ì  ë””í…Œì¼ì„ ë†“ì¹˜ê¸° ì‰¬ì›€'],
    careers: ['ì½˜í…ì¸  í¬ë¦¬ì—ì´í„°', 'ì‘ê°€/ì˜ˆìˆ ê°€', 'UX ë””ìì´ë„ˆ', 'ì—¬í–‰ ê¸°íšì'],
    loveStyle: 'ì—°ì• í•  ë•Œ ì˜¬ì¸í•˜ëŠ” íƒ€ì…! ìƒëŒ€ì˜ ëª¨ë“  ê²ƒì— ê´€ì‹¬ì„ ê°€ì§€ê³ , ì„œí”„ë¼ì´ì¦ˆë¥¼ ì¢‹ì•„í•´ìš”. í•˜ì§€ë§Œ ììœ ë¥¼ ì–µì••í•˜ëŠ” ê´€ê³„ëŠ” ìˆ¨ì´ ë§‰í˜€ìš”.',
    funFact: '"ì•„ ê·¸ê±° ìˆì–ì•„â€”" ë¡œ ì‹œì‘í•˜ë©´ ì£¼ë³€ ì‚¬ëŒë“¤ì´ ìì„¸ë¥¼ ê³ ì³ ì•‰ìŠµë‹ˆë‹¤. ì§§ì€ ê¸€ì—ë„ ì„œì‚¬ë¥¼ ì§‘ì–´ë„£ëŠ” íƒ€ê³ ë‚œ ì´ì•¼ê¸°ê¾¼.',
    warning: 'ëª¨ë“  ê°€ëŠ¥ì„±ì„ ì«“ë‹¤ ë³´ë©´ ì •ì‘ í•˜ë‚˜ë„ ê¹Šì´ íŒŒì§€ ëª»í•  ìˆ˜ ìˆì–´ìš”. ê°€ë”ì€ í•œ ê°€ì§€ì— ì§‘ì¤‘í•˜ëŠ” ì—°ìŠµë„ í•„ìš”í•©ë‹ˆë‹¤.',
    bestMatch: 'INTJ ì „ëµê°€ ğŸ§ ',
    worstMatch: 'ESTJ ì—„ê²©í•œ ê´€ë¦¬ì ğŸ“‹'
  },
  ESTJ: {
    name: 'ì—„ê²©í•œ ê´€ë¦¬ì', emoji: 'ğŸ“‹', mbtiCode: 'ESTJ',
    desc: 'ì±…ì„ê° ìˆëŠ” ì²´ê³„ì  ì‹¤í–‰ê°€',
    detail: 'ë‹¹ì‹ ì€ "ë§ë³´ë‹¤ í–‰ë™"ì„ ì‹ ì¡°ë¡œ ì‚¼ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ê³„íšì„ ì„¸ìš°ê³ , ì‹¤í–‰í•˜ê³ , ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ê³¼ì •ì´ ë‹¹ì‹ ì˜ ì—ë„ˆì§€ì›ì´ì£ . ì¡°ì§ì—ì„œ ë‹¹ì‹ ì´ ë§¡ìœ¼ë©´ ì¼ì´ ëŒì•„ê°‘ë‹ˆë‹¤. "ì´ë ‡ê²Œ í•˜ë©´ ëœë‹¤"ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²Œ ë‹¹ì‹ ì˜ ë¦¬ë”ì‹­ ë°©ì‹ì´ì—ìš”.',
    strengths: ['ë›°ì–´ë‚œ ì¡°ì§ë ¥ê³¼ ì‹¤í–‰ë ¥', 'ì±…ì„ê°ì´ ê°•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆìŒ', 'ëª…í™•í•œ ì˜ì‚¬ê²°ì • ëŠ¥ë ¥'],
    weaknesses: ['ìœ ì—°ì„±ì´ ë¶€ì¡±í•  ìˆ˜ ìˆìŒ', 'ê°ì •ì  ë‰˜ì•™ìŠ¤ë¥¼ ë†“ì¹˜ê¸° ì‰¬ì›€', 'ìê¸° ê¸°ì¤€ì„ ë‚¨ì—ê²Œ ê°•ìš”í•  ìˆ˜ ìˆìŒ'],
    careers: ['í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €', 'ê³µë¬´ì›/ê´€ë¦¬ì§', 'êµ° ì¥êµ', 'íšŒê³„ì‚¬'],
    loveStyle: 'í–‰ë™ìœ¼ë¡œ ì‚¬ë‘ì„ ë³´ì—¬ì£¼ëŠ” íƒ€ì…. ë°ì´íŠ¸ ê³„íšë„ ê¼¼ê¼¼í•˜ê²Œ ì§œê³ , ì•½ì†ì€ ë°˜ë“œì‹œ ì§€í‚µë‹ˆë‹¤. ìƒëŒ€ì—ê²Œë„ ê°™ì€ ìˆ˜ì¤€ì˜ ì‹ ë¢°ë¥¼ ê¸°ëŒ€í•´ìš”.',
    funFact: 'ê·¸ë£¹ ì—¬í–‰ì—ì„œ ì „ì²´ ì¼ì •í‘œë¥¼ ë§Œë“¤ì–´ ê³µìœ í•˜ëŠ” ì‚¬ëŒ. "ëª‡ ì‹œì— ì–´ë””ì„œ ë§Œë‚˜?"ë¥¼ ê°€ì¥ ë¨¼ì € ì •í•˜ëŠ” íƒ€ì….',
    warning: 'ì„¸ìƒì˜ ëª¨ë“  ê²ƒì„ í†µì œí•  ìˆœ ì—†ì–´ìš”. ê°€ë”ì€ ê³„íš ì—†ì´ í˜ëŸ¬ê°€ëŠ” ëŒ€ë¡œ ë§¡ê²¨ë³´ì„¸ìš”. ì˜ˆìƒ ë°–ì˜ ì¦ê±°ì›€ì„ ë°œê²¬í•  ê±°ì˜ˆìš”.',
    bestMatch: 'ISFP í˜¸ê¸°ì‹¬ ë§ì€ ì˜ˆìˆ ê°€ ğŸ¨',
    worstMatch: 'ENFP ììœ ë¡œìš´ ì˜í˜¼ ğŸ¦‹'
  },
  ESTP: {
    name: 'íƒ€ê³ ë‚œ ëª¨í—˜ê°€', emoji: 'ğŸ„', mbtiCode: 'ESTP',
    desc: 'ì§€ê¸ˆ ì´ ìˆœê°„ì„ ì¦ê¸°ëŠ” í–‰ë™íŒŒ',
    detail: 'ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ PPT ë§Œë“¤ê³ , íšŒì˜í•˜ê³ , ê²€í† ë°›ëŠ” ë™ì•ˆ ë‹¹ì‹ ì€ ì´ë¯¸ í”„ë¡œí† íƒ€ì…ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤. "ì¼ë‹¨ í•´ë³´ê³  ê³ ì¹˜ì"ê°€ ë‹¹ì‹ ì˜ ì¸ìƒ ëª¨í† . ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•ŠëŠ” ê²Œ ì•„ë‹ˆë¼, ì‹¤íŒ¨ë³´ë‹¤ "ì•ˆ í•´ë³¸ ê²ƒ"ì„ ë” ë‘ë ¤ì›Œí•˜ëŠ” ê±°ì£ .',
    strengths: ['ì••ë„ì ì¸ ì‹¤í–‰ë ¥ê³¼ ì¶”ì§„ë ¥', 'ìœ„ê¸° ìƒí™©ì—ì„œ ë¹›ë‚˜ëŠ” ìˆœë°œë ¥', 'í˜„ì‹¤ ê°ê°ì´ ë›°ì–´ë‚¨'],
    weaknesses: ['ì¥ê¸° ê³„íšì— ì•½í•  ìˆ˜ ìˆìŒ', 'ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ê¸° í˜ë“¤ì–´í•¨', 'ê¹Šì€ ê°ì •ì  ëŒ€í™”ë¥¼ í”¼í•˜ëŠ” ê²½í–¥'],
    careers: ['ê¸°ì—…ê°€/ì°½ì—…ì', 'ì‘ê¸‰ì˜ë£Œì¸', 'ìŠ¤í¬ì¸  ì„ ìˆ˜/ì½”ì¹˜', 'ì„¸ì¼ì¦ˆ ì „ë¬¸ê°€'],
    loveStyle: 'ì—°ì• ë„ ëª¨í—˜ì²˜ëŸ¼! ê°™ì´ ìƒˆë¡œìš´ ê±¸ ê²½í—˜í•˜ëŠ” ê²Œ ìµœê³ ì˜ ë°ì´íŠ¸. ì§€ë£¨í•œ ê±´ ëª» ì°¸ì§€ë§Œ, ì§„ì‹¬ìœ¼ë¡œ ë¹ ì§€ë©´ ëˆ„êµ¬ë³´ë‹¤ ì˜¬ì¸í•©ë‹ˆë‹¤.',
    funFact: '"ì´ê±° í•´ë³¼ê¹Œ?" ë¼ê³  ë§í•œ ì§€ 5ë¶„ ë§Œì— ì´ë¯¸ ì‹œì‘í•˜ê³  ìˆëŠ” ì‚¬ëŒ. ì£¼ë³€ì—ì„œ "ë„ˆ ì§„ì§œ ë¹ ë¥´ë‹¤"ë¼ëŠ” ë§ì„ ì¸ì‚¬ì²˜ëŸ¼ ë“£ìŠµë‹ˆë‹¤.',
    warning: 'ê°€ë” ë¸Œë ˆì´í¬ ì—†ëŠ” ìë™ì°¨ì²˜ëŸ¼ ë‹¬ë¦´ ë•Œê°€ ìˆì–´ìš”. ì‹¤í–‰ë ¥ì€ ìµœê³ ì˜ ë¬´ê¸°ì§€ë§Œ, ë°©í–¥ì´ í‹€ë¦¬ë©´ ë¹ ë¥´ê²Œ ì˜ëª»ëœ ê³³ì— ë„ì°©í•©ë‹ˆë‹¤.',
    bestMatch: 'ISFJ ì¡°ìš©í•œ ìˆ˜í˜¸ì ğŸ›¡ï¸',
    worstMatch: 'INFJ ì„ ì˜ì˜ ì˜¹í˜¸ì ğŸ”®'
  },
  ESFJ: {
    name: 'ë”°ëœ»í•œ ëŒë´„ì´', emoji: 'ğŸ¤—', mbtiCode: 'ESFJ',
    desc: 'ëª¨ë‘ì˜ ë§ˆìŒì„ ì‚´í”¼ëŠ” ë¶„ìœ„ê¸° ë©”ì´ì»¤',
    detail: 'ë‹¹ì‹ ì€ ì£¼ë³€ ì‚¬ëŒë“¤ì˜ ê°ì • ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìŠ¤ìº”í•˜ëŠ” ëŠ¥ë ¥ìì˜ˆìš”. ëˆ„ê°€ ê¸°ë¶„ì´ ì•ˆ ì¢‹ì€ì§€, ëˆ„ê°€ ë°°ê³ í”ˆì§€, ëˆ„ê°€ ì†Œì™¸ê°ì„ ëŠë¼ëŠ”ì§€ â€” ë‹¤ ê°ì§€í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¡°ìš©íˆ ë‹¤ê°€ê°€ì„œ "ê´œì°®ì•„?"ë¼ê³  ë¬¼ì–´ë³´ì£ . ë‹¹ì‹  ë•ë¶„ì— ìœ ì§€ë˜ëŠ” ê´€ê³„ê°€ ì…€ ìˆ˜ ì—†ì´ ë§ì„ ê±°ì˜ˆìš”.',
    strengths: ['ë›°ì–´ë‚œ ë°°ë ¤ì‹¬ê³¼ ê³µê° ëŠ¥ë ¥', 'ì¡°í™”ë¡œìš´ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œëŠ” ëŠ¥ë ¥', 'ì„±ì‹¤í•˜ê³  ì±…ì„ê° ìˆëŠ” íƒœë„'],
    weaknesses: ['ë‚¨ì˜ í‰ê°€ì— ë¯¼ê°í•  ìˆ˜ ìˆìŒ', 'ê°ˆë“±ì„ í”¼í•˜ë ¤ë‹¤ ë³¸ì‹¬ì„ ìˆ¨ê¹€', 'ìê¸° í¬ìƒì´ ê³¼í•´ì§ˆ ìˆ˜ ìˆìŒ'],
    careers: ['ê°„í˜¸ì‚¬/ì˜ë£Œì¸', 'êµì‚¬', 'ì´ë²¤íŠ¸ í”Œë˜ë„ˆ', 'ê³ ê°ì„œë¹„ìŠ¤ ì „ë¬¸ê°€'],
    loveStyle: 'ì—°ì¸ì—ê²Œ í—Œì‹ ì ì´ê³  ì„¸ì‹¬í•©ë‹ˆë‹¤. ê¸°ë…ì¼ì„ ì ˆëŒ€ ìŠì§€ ì•Šê³ , ìƒëŒ€ì˜ ì‘ì€ ë³€í™”ë„ ì•Œì•„ì°¨ë ¤ìš”. í•˜ì§€ë§Œ "í•´ì£¼ëŠ” ë§Œí¼ ë°›ê³  ì‹¶ë‹¤"ëŠ” ë§ˆìŒì„ ìˆ¨ê¸°ì§€ ë§ˆì„¸ìš”.',
    funFact: 'ë‹¨ì²´ ì¹´í†¡ì—ì„œ "ë‹¤ë“¤ ë­ ë¨¹ì„ë˜?"ë¥¼ ë¨¼ì € ë¬¼ì–´ë³´ëŠ” ì‚¬ëŒ. ìƒì¼ ì±™ê¸°ê¸° ë‹´ë‹¹. ëª¨ì„ ëë‚˜ê³  "ë‹¤ë“¤ ì˜ ë“¤ì–´ê°”ì–´?"ë¥¼ ê¼­ í™•ì¸.',
    warning: 'ëª¨ë“  ì‚¬ëŒì˜ ê¸°ë¶„ì„ ë§ì¶”ë ¤ë‹¤ ì •ì‘ ìê¸° ê°ì •ì„ ìƒì§€ ë§ˆì„¸ìš”. ê°€ë”ì€ "ë‚˜ë„ í˜ë“¤ì–´"ë¼ê³  ë§í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.',
    bestMatch: 'ISTP ë§ŒëŠ¥ ì¥ì¸ ğŸ”§',
    worstMatch: 'ENTP ë…¼ìŸì˜ ë‹¬ì¸ ğŸ’¡'
  },
  ESFP: {
    name: 'í¥ì˜ í™”ì‹ ', emoji: 'ğŸ‰', mbtiCode: 'ESFP',
    desc: 'ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” ì—”í„°í…Œì´ë„ˆ',
    detail: 'ë‹¹ì‹ ì´ ìˆìœ¼ë©´ ì–´ë–¤ ëª¨ì„ì´ë“  ì¶•ì œê°€ ë©ë‹ˆë‹¤. íƒ€ê³ ë‚œ ì—”í„°í…Œì´ë„ˆì´ì ë¶„ìœ„ê¸° ë©”ì´ì»¤. ì‚¬ëŒë“¤ì˜ ì›ƒìŒê³¼ ì¦ê±°ì›€ì´ ë‹¹ì‹ ì˜ ì—°ë£Œì˜ˆìš”. "ì¸ìƒì€ í•œ ë²ˆë¿ì´ë‹ˆê¹Œ"ê°€ ë‹¹ì‹ ì˜ ì§„ì‹¬ì´ê³ , ê·¸ë˜ì„œ ë§¤ ìˆœê°„ì„ ìµœëŒ€í•œ ì¦ê¹ë‹ˆë‹¤.',
    strengths: ['ë›°ì–´ë‚œ ì‚¬êµì„±ê³¼ ìœ ë¨¸ ê°ê°', 'í˜„ì¬ì— ì¶©ì‹¤í•˜ê³  ì¦ê±°ì›€ì„ ì¤Œ', 'ì ì‘ë ¥ì´ ë›°ì–´ë‚¨'],
    weaknesses: ['ì¥ê¸° ê³„íšì„ ì„¸ìš°ê¸° ì–´ë ¤ì›€', 'ì§€ë£¨í•œ ê±¸ ëª» ì°¸ì•„ ì¤‘ìš”í•œ ê²ƒë„ ê±´ë„ˆëœ€', 'ì¦‰í¥ì  ê²°ì •ì´ í›„íšŒë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŒ'],
    careers: ['ê³µì—° ì˜ˆìˆ ê°€', 'MC/ì‡¼í˜¸ìŠ¤íŠ¸', 'ì—¬í–‰ ê°€ì´ë“œ', 'SNS ì¸í”Œë£¨ì–¸ì„œ'],
    loveStyle: 'ì—°ì• ëŠ” ì¬ë°Œì–´ì•¼ í•´ìš”! ì„œí”„ë¼ì´ì¦ˆ, ì¦‰í¥ ì—¬í–‰, ìƒˆë¡œìš´ ë§›ì§‘ â€” ë§¤ì¼ì´ ìƒˆë¡œìš´ ë°ì´íŠ¸. ì§„ì‹¬ì´ ì•„ë‹Œ ê±´ ë°”ë¡œ í‹°ê°€ ë‚˜ê³ , ì§„ì‹¬ì´ë©´ ì„¸ìƒì—ì„œ ì œì¼ ë”°ëœ»í•´ìš”.',
    funFact: 'ì¹´í†¡ì—ì„œ ì´ëª¨í‹°ì½˜ ì‚¬ìš©ëŸ‰ ìƒìœ„ 1%. "ã…‹ã…‹ã…‹" í•œ ë²ˆ ë³´ë‚¸ ì ì´ ì—†ê³  í•­ìƒ "ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹" ì´ìƒ.',
    warning: 'ì¬ë¯¸ë§Œ ì¢‡ë‹¤ ë³´ë©´ ì •ë§ ì¤‘ìš”í•œ ê²ƒì„ ë†“ì¹  ìˆ˜ ìˆì–´ìš”. ê°€ë”ì€ ì¡°ìš©íˆ ì•‰ì•„ì„œ ìê¸° ìì‹ ê³¼ ëŒ€í™”í•˜ëŠ” ì‹œê°„ë„ í•„ìš”í•©ë‹ˆë‹¤.',
    bestMatch: 'ISTJ í˜„ì‹¤ì£¼ì˜ì ğŸ›ï¸',
    worstMatch: 'ENTJ ì „ëµì  í†µì†”ì â™Ÿï¸'
  },
  INTJ: {
    name: 'ì „ëµê°€', emoji: 'ğŸ§ ', mbtiCode: 'INTJ',
    desc: 'ë…ë¦½ì  ì‚¬ê³ ì˜ ë§ˆìŠ¤í„°í”Œë˜ë„ˆ',
    detail: 'ë‹¹ì‹ ì€ ë§ ìˆ˜ê°€ ì ì§€ë§Œ, ê·¸ ì ì€ ë§ í•œë§ˆë””ì— ë¬´ê²Œê°€ ì‹¤ë¦¬ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ëª¨ì„ì—ì„œ í•œ ì‹œê°„ ë™ì•ˆ ì¡°ìš©íˆ ë“£ë‹¤ê°€ "ê·¼ë° ê·¸ê±° ì´ë ‡ê²Œ í•˜ë©´ ì•ˆ ë¼?"ë¼ê³  í•œë§ˆë”” í•˜ë©´ ëª¨ë‘ê°€ ê³ ê°œë¥¼ ë„ë•ì´ì£ . ë‹¹ì‹ ì˜ ì¹¨ë¬µì€ ë¬´ê´€ì‹¬ì´ ì•„ë‹ˆë¼, ê°€ì¥ íš¨ìœ¨ì ì¸ ë‹µì„ ì°¾ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.',
    strengths: ['ì „ëµì  ì‚¬ê³ ì™€ ê³„íš ìˆ˜ë¦½ ëŠ¥ë ¥', 'ë…ë¦½ì ì´ê³  ììœ¨ì ì¸ ì‹¤í–‰ë ¥', 'ë³µì¡í•œ ì‹œìŠ¤í…œì„ ê¿°ëš«ì–´ ë³´ëŠ” ëˆˆ'],
    weaknesses: ['ê°ì • í‘œí˜„ì´ ì„œíˆ¬ë¥¼ ìˆ˜ ìˆìŒ', 'ì§€ë‚˜ì¹œ ì™„ë²½ì£¼ì˜ ê²½í–¥', 'íƒ€ì¸ì˜ ë¹„íš¨ìœ¨ì„ ì°¸ê¸° ì–´ë ¤ì›€'],
    careers: ['ë°ì´í„° ê³¼í•™ì', 'ê±´ì¶•ê°€/ì„¤ê³„ì‚¬', 'ì—°êµ¬ì›', 'íˆ¬ì ì „ëµê°€'],
    loveStyle: 'ì—°ì• ì—ì„œë„ ê¹Šì´ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤. ì“¸ë°ì—†ëŠ” ì¸ì€ ì‹«ê³ , í•œ ë²ˆ ë§ˆìŒì„ ì •í•˜ë©´ ì§„ì‹¬. ì§€ì ìœ¼ë¡œ ëŒ€ë“±í•œ ìƒëŒ€ì—ê²Œ ëŒë¦¬ê³ , ì„œë¡œì˜ ë…ë¦½ì„±ì„ ì¡´ì¤‘í•˜ëŠ” ê´€ê³„ë¥¼ ì›í•´ìš”.',
    funFact: 'ì¹´í†¡ ë‹¨ì²´ë°©ì—ì„œ ì½ì”¹ì´ ê°€ì¥ ë§ì§€ë§Œ, ì •ì‘ ì¤‘ìš”í•œ ìˆœê°„ì— í•µì‹¬ í•œì¤„ì„ ë‚¨ê¸°ëŠ” ì‚¬ëŒ.',
    warning: 'í˜¼ì ë‹¤ í•´ê²°í•˜ë ¤ë‹¤ê°€ ë²ˆì•„ì›ƒ ì˜¬ ìˆ˜ ìˆì–´ìš”. "ë„ì™€ì¤˜"ë¼ëŠ” ë§ë„ ëŠ¥ë ¥ì…ë‹ˆë‹¤.',
    bestMatch: 'ENFP ììœ ë¡œìš´ ì˜í˜¼ ğŸ¦‹',
    worstMatch: 'ESFP í¥ì˜ í™”ì‹  ğŸ‰'
  },
  INTP: {
    name: 'ë…¼ë¦¬í•™ì', emoji: 'ğŸ”¬', mbtiCode: 'INTP',
    desc: 'ì§„ë¦¬ë¥¼ íƒêµ¬í•˜ëŠ” ì¡°ìš©í•œ ì²œì¬',
    detail: 'ë‹¹ì‹ ì˜ ë¨¸ë¦¿ì†ì€ ì˜ì›íˆ êº¼ì§€ì§€ ì•ŠëŠ” ì—°êµ¬ì‹¤ì…ë‹ˆë‹¤. "ì™œ?"ë¼ëŠ” ì§ˆë¬¸ì´ ëŠì´ì§€ ì•Šê³ , í•˜ë‚˜ì˜ ë‹µì„ ì°¾ìœ¼ë©´ ê·¸ ë‹µì—ì„œ ë˜ ìƒˆë¡œìš´ ì§ˆë¬¸ì´ ìƒê¸°ì£ . ë‚¨ë“¤ì´ ë‹¹ì—°í•˜ê²Œ ë°›ì•„ë“¤ì´ëŠ” ê²ƒì„ ë‹¹ì‹ ì€ ì˜ì‹¬í•˜ê³ , ê·¸ ì˜ì‹¬ì´ ê²°êµ­ í†µì°°ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.',
    strengths: ['ë›°ì–´ë‚œ ë¶„ì„ë ¥ê³¼ ë…¼ë¦¬ë ¥', 'ë…ì°½ì ì¸ ê´€ì ê³¼ ì•„ì´ë””ì–´', 'ë³µì¡í•œ ê°œë…ì„ ì´í•´í•˜ëŠ” ëŠ¥ë ¥'],
    weaknesses: ['ì‹¤í–‰ë³´ë‹¤ ìƒê°ì— ë¨¸ë¬´ë¥´ëŠ” ê²½í–¥', 'ì‚¬íšŒì  ìƒí™©ì´ ì—ë„ˆì§€ë¥¼ ì†Œëª¨ì‹œí‚´', 'ê°ì •ì„ ë¬´ì‹œí•˜ê±°ë‚˜ ê°„ê³¼í•  ìˆ˜ ìˆìŒ'],
    careers: ['ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì', 'ì—°êµ¬ ê³¼í•™ì', 'ì² í•™ì', 'ì‹œìŠ¤í…œ ë¶„ì„ê°€'],
    loveStyle: 'ë§ˆìŒì„ ì—¬ëŠ” ë° ì‹œê°„ì´ ê±¸ë¦¬ì§€ë§Œ, í•œ ë²ˆ ì—´ë¦¬ë©´ ê¹Šì´ê°€ ë‹¤ë¦…ë‹ˆë‹¤. ì§€ì  êµê°ì´ ê°ì •ì  êµê°ë§Œí¼ ì¤‘ìš”í•´ìš”. ì„œë¡œì˜ í˜¼ìë§Œì˜ ì‹œê°„ì„ ì¡´ì¤‘í•˜ëŠ” ê´€ê³„ê°€ ì´ìƒì .',
    funFact: 'ìœ„í‚¤í”¼ë””ì•„ ì„œí•‘ ì‹œì‘í•˜ë©´ 3ì‹œê°„ì´ ìˆœì‚­. ëŒ€í™” ì¤‘ ê°‘ìê¸° "ê·¼ë° ì´ê±° ì›ë¦¬ê°€ ë­ì§€?"ë¼ë©° ê²€ìƒ‰í•˜ëŠ” ì‚¬ëŒ.',
    warning: 'ìƒê°ë§Œìœ¼ë¡œëŠ” ì„¸ìƒì´ ë°”ë€Œì§€ ì•Šì•„ìš”. ë¶ˆì™„ì „í•´ë„ ì¼ë‹¨ ì„¸ìƒì— ë‚´ë†“ì•„ ë³´ì„¸ìš”.',
    bestMatch: 'ENFJ ì •ì˜ì˜ ì‚¬ë„ ğŸŒŸ',
    worstMatch: 'ESFJ ë”°ëœ»í•œ ëŒë´„ì´ ğŸ¤—'
  },
  INFJ: {
    name: 'ì„ ì˜ì˜ ì˜¹í˜¸ì', emoji: 'ğŸ”®', mbtiCode: 'INFJ',
    desc: 'ì´ìƒì„ í˜„ì‹¤ë¡œ ë§Œë“œëŠ” ì‹ ë¹„ë¡œìš´ ì§ê´€ëŸ¬',
    detail: 'ë‹¹ì‹ ì€ ì¸ê°„ CCTVì…ë‹ˆë‹¤. ëª¨ì„ì—ì„œ ëˆ„ê°€ ë¶ˆí¸í•´í•˜ëŠ”ì§€, ëˆ„ê°€ ì§„ì‹¬ì´ ì•„ë‹Œì§€ â€” ë‹¤ ë³´ì…ë‹ˆë‹¤. ê·¸ëŸ°ë° ê·¸ê±¸ ëŒ€ë†“ê³  ë§í•˜ì§€ ì•Šì£ . í•„ìš”í•œ ìˆœê°„ì´ ì˜¬ ë•Œê¹Œì§€ ì¡°ìš©íˆ ì €ì¥í•´ë‘ë‹¤ê°€, ë”± ê·¸ ìˆœê°„ì— í•µì‹¬ì„ ì°Œë¦…ë‹ˆë‹¤. ì£¼ë³€ì—ì„œ "ë„ˆ í”„ë¡œíŒŒì¼ëŸ¬ì•¼?" ì†Œë¦¬ ë“¤ì–´ë´¤ì„ ê±°ì˜ˆìš”.',
    strengths: ['ê¹Šì€ ì§ê´€ë ¥ê³¼ í†µì°°ë ¥', 'ì´ìƒì„ ìœ„í•´ ê¾¸ì¤€íˆ ë…¸ë ¥í•¨', 'íƒ€ì¸ì˜ ê°ì •ì„ ê¹Šì´ ì´í•´í•¨'],
    weaknesses: ['ì´ìƒê³¼ í˜„ì‹¤ì˜ ê°­ì— ì¢Œì ˆí•  ìˆ˜ ìˆìŒ', 'ìê¸° ê°ì •ì„ ë„ˆë¬´ ì–µëˆ„ë¥´ëŠ” ê²½í–¥', 'ì™„ë²½í•œ ê´€ê³„ë¥¼ ê¸°ëŒ€í•´ ì‹¤ë§í•˜ê¸° ì‰¬ì›€'],
    careers: ['ì‹¬ë¦¬ìƒë‹´ì‚¬', 'ì‘ê°€/ì‹œë‚˜ë¦¬ì˜¤ì‘ê°€', 'ë¹„ì˜ë¦¬ë‹¨ì²´ í™œë™ê°€', 'UX ë¦¬ì„œì²˜'],
    loveStyle: 'ì†Œìš¸ë©”ì´íŠ¸ë¥¼ ì°¾ëŠ” íƒ€ì…. í‘œë©´ì ì¸ ê´€ê³„ëŠ” ì›í•˜ì§€ ì•Šê³ , ì˜í˜¼ê¹Œì§€ êµê°í•˜ëŠ” ê¹Šì€ ì—°ê²°ì„ ì›í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì—°ì•  ì‹œì‘ì´ ëŠë¦´ ìˆ˜ ìˆì§€ë§Œ, í•œë²ˆ ì‹œì‘í•˜ë©´ ì§„ì‹¬ ê·¸ ìì²´.',
    funFact: 'ì‚¬ëŒë“¤ì˜ í‘œì • ë³€í™”, ë§íˆ¬ ë³€í™”ë¥¼ ë¬´ì˜ì‹ì ìœ¼ë¡œ ìºì¹˜í•©ë‹ˆë‹¤. "ë„ˆ ì˜¤ëŠ˜ ë­”ê°€ ìˆì§€?"ë¥¼ ìƒëŒ€ë°©ì´ ë§í•˜ê¸° ì „ì— ë¨¼ì € ë¬¼ì–´ë³´ëŠ” íƒ€ì….',
    warning: 'ë„ˆë¬´ ë§ì´ ë³´ì´ë©´ í”¼ê³¤í•  ìˆ˜ ìˆì–´ìš”. ëª¨ë“  ê²ƒì„ ë¶„ì„í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤. ê°€ë”ì€ "ë³´ì—¬ë„ ë„˜ê¸°ê¸°"ë„ í•„ìš”í•©ë‹ˆë‹¤.',
    bestMatch: 'ENTP ë…¼ìŸì˜ ë‹¬ì¸ ğŸ’¡',
    worstMatch: 'ESTP íƒ€ê³ ë‚œ ëª¨í—˜ê°€ ğŸ„'
  },
  INFP: {
    name: 'ê°ì„± ëª½ìƒê°€', emoji: 'ğŸŒ™', mbtiCode: 'INFP',
    desc: 'ë‚´ë©´ ì„¸ê³„ê°€ í’ë¶€í•œ ì´ìƒì£¼ì˜ì',
    detail: 'ë‹¹ì‹ ì˜ ë¨¸ë¦¿ì†ì—ëŠ” ì‘ì€ ìš°ì£¼ê°€ ìˆìŠµë‹ˆë‹¤. ë²„ìŠ¤ ì°½ë°–ì„ ë³´ë©´ì„œ ë‹¨í¸ ì†Œì„¤ í•œ í¸ì„ êµ¬ìƒí•˜ê³ , ë¹„ ì˜¤ëŠ” ë‚ ì—ëŠ” ì™ ì§€ ëª¨ë¥¼ ì•„ë ¨í•¨ì— ë¹ ì§€ì£ . ë‚¨ë“¤ì´ ê·¸ëƒ¥ ì§€ë‚˜ì¹˜ëŠ” ìˆœê°„ë“¤ì—ì„œ ë‹¹ì‹ ì€ ì˜ë¯¸ë¥¼ ë°œê²¬í•©ë‹ˆë‹¤. "ë³„ê±° ì•„ë‹Œ ê²ƒ"ì—ì„œ ì•„ë¦„ë‹¤ì›€ì„ ëŠë¼ëŠ” ëŠ¥ë ¥ â€” ê·¸ê²Œ ë‹¹ì‹ ì˜ ì´ˆëŠ¥ë ¥ì´ì—ìš”.',
    strengths: ['í’ë¶€í•œ ê°ìˆ˜ì„±ê³¼ ê³µê° ëŠ¥ë ¥', 'ê¹Šì€ ë‚´ë©´ì˜ ê°€ì¹˜ê´€ê³¼ ì‹ ë…', 'ì°½ì‘ê³¼ ì˜ˆìˆ ì  í‘œí˜„ì— ì¬ëŠ¥'],
    weaknesses: ['í˜„ì‹¤ê³¼ ì´ìƒì˜ ê´´ë¦¬ì— í˜ë“¤ì–´í•¨', 'ë¹„íŒì— ì˜ˆë¯¼í•˜ê²Œ ë°˜ì‘í•  ìˆ˜ ìˆìŒ', 'ê²°ì •ì„ ë‚´ë¦¬ê¸°ê¹Œì§€ ì˜¤ë˜ ê±¸ë¦¼'],
    careers: ['ì‘ê°€/ì‹œì¸', 'ê·¸ë˜í”½ ë””ìì´ë„ˆ', 'ì‹¬ë¦¬ìƒë‹´ì‚¬', 'ìŒì•…ê°€'],
    loveStyle: 'ì´ìƒì ì¸ ì‚¬ë‘ì„ ê¿ˆê¿‰ë‹ˆë‹¤. ìƒëŒ€ì˜ ë‚´ë©´ì— ê¹Šì´ ë¹ ì ¸ë“¤ê³ , ì‘ì€ ë°°ë ¤ì™€ ì§„ì‹¬ì— ê°ë™ë°›ì•„ìš”. ì—°ì• í¸ì§€ë¥¼ ì“¸ ì¤„ ì•„ëŠ” ë§ˆì§€ë§‰ ì„¸ëŒ€ì¼ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤.',
    funFact: 'ë¹„ ì˜¤ëŠ” ë‚  ì°½ê°€ ì¹´í˜ â†’ ê°ì„± ì¶©ì „ ì™„ë£Œ. í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ì— "ìƒˆë²½ê°ì„±" "í˜¼ìë“£ê¸°ì¢‹ì€" ê°™ì€ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ê°€ 5ê°œ ì´ìƒ.',
    warning: 'í˜„ì‹¤ê³¼ ì´ìƒì˜ ê°­ì—ì„œ ê°€ë” ê´´ë¡œìš¸ ìˆ˜ ìˆì–´ìš”. ë‹¹ì‹ ì˜ í’ë¶€í•œ ê°ì„±ì€ ì¶•ë³µì´ì§€ë§Œ, ê°€ë”ì€ "ì¶©ë¶„íˆ ê´œì°®ë‹¤"ê³  ìì‹ ì—ê²Œ ë§í•´ì£¼ì„¸ìš”.',
    bestMatch: 'ENTJ ì „ëµì  í†µì†”ì â™Ÿï¸',
    worstMatch: 'ESTJ ì—„ê²©í•œ ê´€ë¦¬ì ğŸ“‹'
  },
  ISTJ: {
    name: 'í˜„ì‹¤ì£¼ì˜ì', emoji: 'ğŸ›ï¸', mbtiCode: 'ISTJ',
    desc: 'ë¬µë¬µí•˜ê³  ì„±ì‹¤í•œ ì‹ ë¢°ì˜ ì•„ì´ì½˜',
    detail: 'ë‹¹ì‹ ì€ "ì•½ì†ì€ ì§€í‚¤ëŠ” ê²ƒ"ì´ë¼ëŠ” ì‹ ë…ì˜ ì†Œìœ ìì…ë‹ˆë‹¤. ë§ë³´ë‹¤ í–‰ë™ì´ê³ , í–‰ë™ë³´ë‹¤ ê²°ê³¼ì˜ˆìš”. í™”ë ¤í•˜ì§€ ì•Šì§€ë§Œ ê¾¸ì¤€í•˜ê²Œ, ì¡°ìš©í•˜ì§€ë§Œ í™•ì‹¤í•˜ê²Œ â€” ê·¸ë˜ì„œ ë‹¹ì‹  ì£¼ë³€ ì‚¬ëŒë“¤ì€ "ì´ ì‚¬ëŒì€ ì§„ì§œì•¼"ë¼ê³  ëŠë‚ë‹ˆë‹¤.',
    strengths: ['ë†’ì€ ì±…ì„ê°ê³¼ ì„±ì‹¤í•¨', 'ì²´ê³„ì ì´ê³  ê¼¼ê¼¼í•œ ì‹¤í–‰ë ¥', 'ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¼ê´€ëœ íƒœë„'],
    weaknesses: ['ë³€í™”ë¥¼ ë°›ì•„ë“¤ì´ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ', 'ê°ì • í‘œí˜„ì´ ì„œíˆ¬ë¦„', 'ìœµí†µì„±ì´ ë¶€ì¡±í•˜ë‹¤ëŠ” ì¸ìƒì„ ì¤„ ìˆ˜ ìˆìŒ'],
    careers: ['ê³µì¸íšŒê³„ì‚¬', 'ë²•ë¬´ì‚¬/ë²•ë¥  ì „ë¬¸ê°€', 'ê³µë¬´ì›', 'ë°ì´í„° ê´€ë¦¬ì'],
    loveStyle: 'í–‰ë™ìœ¼ë¡œ ì‚¬ë‘ì„ ì¦ëª…í•˜ëŠ” íƒ€ì…. "ì‚¬ë‘í•´"ë³´ë‹¤ "ë°¥ ë¨¹ì—ˆì–´?"ê°€ ë” ìì—°ìŠ¤ëŸ¬ìš´ ì‚¬ëŒ. ì•ˆì •ì ì´ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ê´€ê³„ì—ì„œ í¸ì•ˆí•¨ì„ ëŠê»´ìš”.',
    funFact: 'ì•½ì† ì‹œê°„ 15ë¶„ ì „ì— ë„ì°©í•´ì„œ ê¸°ë‹¤ë¦¬ëŠ” ì‚¬ëŒ. íƒë°° ì˜¬ ë•Œê¹Œì§€ ë¬¸ ì•ì„ ë– ë‚˜ì§€ ì•ŠëŠ” ì‚¬ëŒ. ì—°ì°¨ë¥¼ ë‹¤ ì•ˆ ì“°ê³  ë‚¨ê¸°ëŠ” ì‚¬ëŒ.',
    warning: '"ì›ë˜ í•˜ë˜ ëŒ€ë¡œ"ë§Œ ê³ ì§‘í•˜ë©´ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ ë†“ì¹  ìˆ˜ ìˆì–´ìš”. ê°€ë”ì€ ê²€ì¦ ì•ˆ ëœ ê¸¸ë„ ê±¸ì–´ë³´ì„¸ìš”.',
    bestMatch: 'ESFP í¥ì˜ í™”ì‹  ğŸ‰',
    worstMatch: 'ENTP ë…¼ìŸì˜ ë‹¬ì¸ ğŸ’¡'
  },
  ISTP: {
    name: 'ë§ŒëŠ¥ ì¥ì¸', emoji: 'ğŸ”§', mbtiCode: 'ISTP',
    desc: 'ëƒ‰ì •í•œ ë¶„ì„ê³¼ ì†ì¬ì£¼ì˜ ë‹¬ì¸',
    detail: 'ë‹¹ì‹ ì€ ë¬¸ì œê°€ ìƒê¸°ë©´ ë¶ˆí‰ ëŒ€ì‹  ë„êµ¬ë¥¼ ì§‘ì–´ë“œëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ì¡°ìš©íˆ ê´€ì°°í•˜ê³ , ë¶„ì„í•˜ê³ , ê°€ì¥ íš¨ìœ¨ì ì¸ ë°©ë²•ì„ ì°¾ì•„ ì‹¤í–‰í•©ë‹ˆë‹¤. ìœ„ê¸° ìƒí™©ì—ì„œ ê°€ì¥ ëƒ‰ì •í•œ ì‚¬ëŒì´ê³ , ê·¸ë˜ì„œ ê°€ì¥ ë¯¿ì„ ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ì—ìš”.',
    strengths: ['ë›°ì–´ë‚œ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥', 'ìœ„ê¸° ìƒí™©ì—ì„œ ëƒ‰ì •í•œ íŒë‹¨ë ¥', 'ì‹¤ìš©ì ì´ê³  íš¨ìœ¨ì ì¸ ì ‘ê·¼'],
    weaknesses: ['ê°ì • í‘œí˜„ì— ì¸ìƒ‰í•  ìˆ˜ ìˆìŒ', 'ì¥ê¸°ì  ì•½ì†ì„ ë¶€ë‹´ìŠ¤ëŸ¬ì›Œí•¨', 'ê·œì¹™ê³¼ ê´€ìŠµì— ë°˜ë°œí•˜ëŠ” ê²½í–¥'],
    careers: ['ì—”ì§€ë‹ˆì–´', 'íŒŒì¼ëŸ¿/í•­ê³µ ê¸°ìˆ ì', 'ì‘ê¸‰ êµ¬ì¡°ì‚¬', 'í¬ë Œì‹ ë¶„ì„ê°€'],
    loveStyle: 'ë§ë³´ë‹¤ í–‰ë™ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ìŠ¤íƒ€ì¼. ê³ ì¥ë‚œ ê±° ê³ ì³ì£¼ê³ , í•„ìš”í•œ ê±° ë¯¸ë¦¬ ì±™ê¸°ëŠ” ê²Œ ë‹¹ì‹ ì˜ ì‚¬ë‘ í‘œí˜„. ê³¼ë„í•œ ê°ì • í‘œí˜„ì€ ë¶€ë‹´ìŠ¤ëŸ½ì§€ë§Œ, ì§„ì‹¬ì€ í™•ì‹¤í•©ë‹ˆë‹¤.',
    funFact: 'ì§‘ì— ê³µêµ¬ ì„¸íŠ¸ê°€ ìˆê³ , ë­”ê°€ ê³ ì¥ë‚˜ë©´ ì¼ë‹¨ ë¶„í•´ë¶€í„° í•˜ëŠ” ì‚¬ëŒ. ìœ íŠœë¸Œì—ì„œ DIY ì˜ìƒì„ "ê·¸ëƒ¥ ì‹¬ì‹¬í•´ì„œ" ë³¸ë‹¤ê³  í•˜ì§€ë§Œ ì‚¬ì‹¤ ê½¤ ì§„ì‹¬.',
    warning: 'ëª¨ë“  ê²ƒì„ í˜¼ì í•´ê²°í•  í•„ìš” ì—†ì–´ìš”. ê°€ë”ì€ ê°ì •ì„ ë§ë¡œ í‘œí˜„í•˜ëŠ” ì—°ìŠµë„ í•„ìš”í•©ë‹ˆë‹¤.',
    bestMatch: 'ENFJ ì •ì˜ì˜ ì‚¬ë„ ğŸŒŸ',
    worstMatch: 'ESFJ ë”°ëœ»í•œ ëŒë´„ì´ ğŸ¤—'
  },
  ISFJ: {
    name: 'ì¡°ìš©í•œ ìˆ˜í˜¸ì', emoji: 'ğŸ›¡ï¸', mbtiCode: 'ISFJ',
    desc: 'í—Œì‹ ì ìœ¼ë¡œ ì£¼ë³€ì„ ì§€í‚¤ëŠ” ë”°ëœ»í•œ ì‚¬ëŒ',
    detail: 'ë‹¹ì‹ ì€ ì‚¬ëŒì˜ ë§ˆìŒì— ì™€ì´íŒŒì´ê°€ ì—°ê²°ëœ ì‚¬ëŒì…ë‹ˆë‹¤. ì¹œêµ¬ê°€ "ë‚˜ ê´œì°®ì•„"ë¼ê³  ë§í•´ë„ ëª©ì†Œë¦¬ ë–¨ë¦¼ 0.5ì´ˆë§Œì— "ì•„ë‹Œ ê±° ë‹¤ ì•„ëŠ”ë°?"ë¼ê³  í•  ìˆ˜ ìˆì£ . ë§ì€ ë§ì´ í•„ìš” ì—†ëŠ” ìœ„ë¡œë¥¼ í•  ì¤„ ì•„ëŠ” ì‚¬ëŒ. ë‹¹ì‹ ì´ ì˜†ì— ì•‰ì•„ì„œ ì¡°ìš©íˆ ê°™ì´ ìˆì–´ì£¼ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ìƒëŒ€ë°©ì€ ìš¸ì»¥í•©ë‹ˆë‹¤.',
    strengths: ['ì„¸ì‹¬í•œ ë°°ë ¤ì™€ ê´€ì°°ë ¥', 'ë§¡ì€ ì¼ì— ëŒ€í•œ ëˆê¸°ì™€ ì„±ì‹¤í•¨', 'ì¡°ìš©í•˜ì§€ë§Œ ê°•í•œ ê³µê° ëŠ¥ë ¥'],
    weaknesses: ['ê±°ì ˆí•˜ê¸° ì–´ë ¤ì›Œ ë¬´ë¦¬í•˜ê²Œ ë¨', 'ë³€í™”ë³´ë‹¤ ì•ˆì •ì„ ê³¼ë„í•˜ê²Œ ì¶”êµ¬', 'ìê¸° ê°ì •ì„ ë’¤ë¡œ ë¯¸ë£¨ëŠ” ìŠµê´€'],
    careers: ['ê°„í˜¸ì‚¬/ëŒë´„ ì „ë¬¸ê°€', 'ì‚¬ì„œ/ì•„ì¹´ì´ë¹„ìŠ¤íŠ¸', 'í–‰ì • ì „ë¬¸ê°€', 'ì´ˆë“±êµì‚¬'],
    loveStyle: 'ì¡°ìš©íˆ, ê¾¸ì¤€íˆ, ì§„ì‹¬ìœ¼ë¡œ. ìƒëŒ€ì˜ ì‘ì€ ìŠµê´€ê¹Œì§€ ê¸°ì–µí•˜ê³  ì±™ê²¨ì£¼ëŠ” íƒ€ì…. í™”ë ¤í•œ í‘œí˜„ë³´ë‹¤ ë”°ëœ»í•œ ì¼ìƒì˜ ë°°ë ¤ê°€ ë‹¹ì‹ ì˜ ì‚¬ë‘ ë°©ì‹ì´ì—ìš”.',
    funFact: 'ì¹œêµ¬ë“¤ì˜ ê³ ë¯¼ ìƒë‹´ 1ìˆœìœ„. "ë„ˆí•œí…Œë§Œ ë§í•˜ëŠ” ê±´ë°..." ë¥¼ ê°€ì¥ ë§ì´ ë“£ëŠ” ì‚¬ëŒ. ë‚¨ì˜ ê³ ë¯¼ì„ ë“¤ìœ¼ë©´ì„œ ê°™ì´ ìš°ëŠ” ê²½ìš° ì¢…ì¢… ìˆìŒ.',
    warning: 'ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ë„ˆë¬´ í¡ìˆ˜í•˜ë©´ ìê¸° ê°ì •ì´ ê³ ê°ˆë©ë‹ˆë‹¤. ë‚¨ì„ ëŒë³´ê¸° ì „ì— ìê¸° ìì‹ ì—ê²Œ "ë„ˆëŠ” ê´œì°®ì•„?"ë¼ê³  ë¨¼ì € ë¬¼ì–´ë´ ì£¼ì„¸ìš”.',
    bestMatch: 'ESTP íƒ€ê³ ë‚œ ëª¨í—˜ê°€ ğŸ„',
    worstMatch: 'ENTP ë…¼ìŸì˜ ë‹¬ì¸ ğŸ’¡'
  },
  ISFP: {
    name: 'í˜¸ê¸°ì‹¬ ë§ì€ ì˜ˆìˆ ê°€', emoji: 'ğŸ¨', mbtiCode: 'ISFP',
    desc: 'ê°ê°ì ì´ê³  ììœ ë¡œìš´ íƒí—˜ê°€',
    detail: 'ë‹¹ì‹ ì€ ì„¸ìƒì„ ë‚¨ë“¤ê³¼ ë‹¤ë¥¸ ëˆˆìœ¼ë¡œ ë´…ë‹ˆë‹¤. ê°™ì€ ë…¸ì„ì„ ë´ë„, ê°™ì€ ìŒì•…ì„ ë“¤ì–´ë„, ë‹¹ì‹ ì´ ëŠë¼ëŠ” ê±´ ë‚¨ë“¤ë³´ë‹¤ í•œ ì°¨ì› ê¹Šì–´ìš”. ê·¸ ê°ê°ì„ ë§ì´ ì•„ë‹Œ í–‰ë™ê³¼ ì‘í’ˆìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ì‚¬ëŒ. ì¡°ìš©í•˜ì§€ë§Œ ë‹¹ì‹ ì˜ ì¡´ì¬ ìì²´ê°€ í•˜ë‚˜ì˜ ì˜ˆìˆ ì…ë‹ˆë‹¤.',
    strengths: ['ë›°ì–´ë‚œ ë¯¸ì  ê°ê°ê³¼ ê°ìˆ˜ì„±', 'í˜„ì¬ë¥¼ ê¹Šì´ ëŠë¼ê³  ì¦ê¸°ëŠ” ëŠ¥ë ¥', 'ê²¸ì†í•˜ê³  ë”°ëœ»í•œ ì„±í’ˆ'],
    weaknesses: ['ê°ˆë“± ìƒí™©ì„ íšŒí”¼í•˜ëŠ” ê²½í–¥', 'ì¥ê¸°ì  ëª©í‘œ ì„¤ì •ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ', 'ìê¸° ê°€ì¹˜ë¥¼ ê³¼ì†Œí‰ê°€í•˜ê¸° ì‰¬ì›€'],
    careers: ['ì‚¬ì§„ì‘ê°€', 'í”Œë¡œë¦¬ìŠ¤íŠ¸', 'ì¸í…Œë¦¬ì–´ ë””ìì´ë„ˆ', 'ì…°í”„/íŒŒí‹°ì‹œì—'],
    loveStyle: 'ë§ë³´ë‹¤ ê°ê°ìœ¼ë¡œ ì‚¬ë‘í•˜ëŠ” íƒ€ì…. ì† ì¡ì•„ì£¼ê¸°, ì¢‹ì•„í•˜ëŠ” ë…¸ë˜ ê³µìœ , í•¨ê»˜ ì‚°ì±…í•˜ê¸° â€” ì†Œì†Œí•˜ì§€ë§Œ ê¹Šì€ êµê°ì„ ì¤‘ìš”ì‹œí•´ìš”.',
    funFact: 'ì¹´í˜ì—ì„œ ì¸í…Œë¦¬ì–´ë¥¼ ë¬´ì˜ì‹ì ìœ¼ë¡œ í‰ê°€í•˜ëŠ” ì‚¬ëŒ. ì‚¬ì§„ì²©ì— ì¼ìƒì˜ ì•„ë¦„ë‹¤ìš´ ìˆœê°„ë“¤ì´ ê°€ë“. "ê·¸ëƒ¥ ì˜ˆë»ì„œ ì°ì—ˆì–´"ë¼ê³  í•˜ì§€ë§Œ, ê·¸ êµ¬ë„ëŠ” í”„ë¡œê¸‰.',
    warning: 'ë‹¹ì‹ ì˜ ê°ê°ê³¼ ì¬ëŠ¥ì€ ì¶©ë¶„íˆ ê°€ì¹˜ ìˆì–´ìš”. ë‚¨ë“¤ì˜ ê¸°ì¤€ì´ ì•„ë‹Œ, ìê¸° ìì‹ ì˜ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œë¥¼ í‰ê°€í•´ì£¼ì„¸ìš”.',
    bestMatch: 'ESTJ ì—„ê²©í•œ ê´€ë¦¬ì ğŸ“‹',
    worstMatch: 'ENTJ ì „ëµì  í†µì†”ì â™Ÿï¸'
  }
};

/**
 * ë©”ì¸ ë¶„ì„ í•¨ìˆ˜
 * @param {Object} selfCheckAnswers - ì…€í”„ì²´í¬ ë‹µë³€
 * @param {string[]} essayTexts - ì£¼ê´€ì‹ ë‹µë³€ 3ê°œ
 * @returns {Object} ë¶„ì„ ê²°ê³¼
 */
function analyzePersonality(selfCheckAnswers, essayTexts) {
  // 1. ì…€í”„ì²´í¬ ê¸°ë³¸ ì ìˆ˜ (4ì¶•)
  const selfResult = calculateSelfType(selfCheckAnswers);

  // 2. ì£¼ê´€ì‹ í…ìŠ¤íŠ¸ í•©ì¹˜ê¸° + í‚¤ì›Œë“œ ì¶”ì¶œ
  const combinedText = essayTexts.join(' ');
  const kwResult = extractKeywords(combinedText, essayTexts);

  // 3. T/F ì‚¬ê³ ì¶• ì ìˆ˜ ê³„ì‚° (-100 ~ +100)
  const emotionRatio = kwResult.totalMatched > 0
    ? kwResult.emotionCount / kwResult.totalMatched
    : 0.5;
  const logicRatio = kwResult.totalMatched > 0
    ? kwResult.logicCount / kwResult.totalMatched
    : 0.5;

  const emotionScore = (logicRatio - emotionRatio) * 200;
  const selfThinkingComponent = selfResult.thinkingScore * 0.4;
  const emotionComponent = Math.max(-100, Math.min(100, emotionScore)) * 0.4;
  const logicComponent = (logicRatio > emotionRatio ? 50 : -50) * 0.2;
  let thinkingFinal = selfThinkingComponent + emotionComponent + logicComponent;
  thinkingFinal = Math.max(-100, Math.min(100, thinkingFinal));

  // 4. E/I ì—ë„ˆì§€ì¶• ì ìˆ˜ ê³„ì‚° (-100 ~ +100)
  const avgCharsPerEssay = kwResult.charCount / 3;
  const verbosityScore = Math.max(-80, Math.min(80, (avgCharsPerEssay - 200) * 0.4));
  const energyFromSocial = kwResult.socialExtrovert - kwResult.socialIntrovert;
  const socialBonus = Math.max(-30, Math.min(30, energyFromSocial * 10));
  let energyFinal = (selfResult.energyScore * 0.4) + ((verbosityScore + socialBonus) * 0.3) + (selfResult.energyScore * 0.3);
  energyFinal = Math.max(-100, Math.min(100, energyFinal));

  // 5. S/N ê°ê°ì¶• ì ìˆ˜ ê³„ì‚° (-100 ~ +100)
  // ì…€í”„ì²´í¬ 40% + ì—ì„¸ì´ í‚¤ì›Œë“œ 60%
  const concreteCount = kwResult.sensingCount || 0;
  const abstractCount = kwResult.intuitionCount || 0;
  const snTotal = concreteCount + abstractCount;
  let sensingEssayScore = 0;
  if (snTotal > 0) {
    sensingEssayScore = ((concreteCount - abstractCount) / snTotal) * 100;
  }
  let sensingFinal = (selfResult.sensingScore * 0.4) + (Math.max(-100, Math.min(100, sensingEssayScore)) * 0.6);
  sensingFinal = Math.max(-100, Math.min(100, sensingFinal));

  // 6. J/P íŒë‹¨ì¶• ì ìˆ˜ ê³„ì‚° (-100 ~ +100)
  // ì…€í”„ì²´í¬ 40% + ì—ì„¸ì´ êµ¬ì¡°í™” ì •ë„ + í‚¤ì›Œë“œ 60%
  const structuredCount = kwResult.judgingCount || 0;
  const flexibleCount = kwResult.perceivingCount || 0;
  const jpTotal = structuredCount + flexibleCount;
  let judgingEssayScore = 0;
  if (jpTotal > 0) {
    judgingEssayScore = ((structuredCount - flexibleCount) / jpTotal) * 100;
  }
  // ë¬¸ì¥ êµ¬ì¡°í™” ë³´ì •: í‰ê·  ë¬¸ì¥ ê¸¸ì´ê°€ ê¸¸ê³  ì¼ê´€ë˜ë©´ J ë³´ì •
  const avgSentenceLen = kwResult.sentenceCount > 0 ? kwResult.charCount / kwResult.sentenceCount : 0;
  const structureBonus = avgSentenceLen > 30 ? 15 : avgSentenceLen < 15 ? -15 : 0;
  let judgingFinal = (selfResult.judgingScore * 0.4) + (Math.max(-100, Math.min(100, judgingEssayScore + structureBonus)) * 0.6);
  judgingFinal = Math.max(-100, Math.min(100, judgingFinal));

  // 7. 4ê¸€ì MBTI ì½”ë“œ ê²°ì •
  const e_i = energyFinal >= 0 ? 'E' : 'I';
  const s_n = sensingFinal >= 0 ? 'S' : 'N';
  const t_f = thinkingFinal >= 0 ? 'T' : 'F';
  const j_p = judgingFinal >= 0 ? 'J' : 'P';
  const finalType = e_i + s_n + t_f + j_p;

  // 8. ê°ì • DNA ê³„ì‚°
  const dna = calculateDNA(kwResult.dna);

  // 9. ì…€í”„ ê°­ ê³„ì‚° (4ê¸€ì ë¹„êµ)
  const selfType = selfResult.selfType;
  const gapLevel = calculateGap(selfType, finalType);

  // 10. ëŒ€í‘œ í‚¤ì›Œë“œ
  const mainKeyword = kwResult.topKeywords[0] || 'ìƒê°';

  // 11. í…ìŠ¤íŠ¸ í†µê³„
  const textStats = {
    exclamationCount: kwResult.exclamationCount,
    questionCount: kwResult.questionCount,
    emojiCount: kwResult.emojiCount,
    charCount: kwResult.charCount,
    sentenceCount: kwResult.sentenceCount
  };

  // 12. ë”¥ íŒ¨í„´ ì¶”ì¶œ
  const deepPatterns = extractDeepPatterns(essayTexts, kwResult);

  return {
    finalType,
    typeInfo: TYPE_INFO[finalType],
    selfType,
    selfTypeInfo: TYPE_INFO[selfType] || TYPE_INFO.ENTJ,
    thinkingScore: Math.round(thinkingFinal),
    energyScore: Math.round(energyFinal),
    sensingScore: Math.round(sensingFinal),
    judgingScore: Math.round(judgingFinal),
    mbtiCode: finalType,
    dna,
    gapLevel,
    mainKeyword,
    textStats,
    topKeywords: kwResult.topKeywords,
    deepPatterns,
    keywordDetails: kwResult.matchedDetails,
    perEssayAnalysis: kwResult.perEssay
  };
}

/**
 * ê°ì • DNA ê³„ì‚° (ìƒìœ„ 3ê°œ ë°˜í™˜)
 */
function calculateDNA(rawDna) {
  const total = Object.values(rawDna).reduce((a, b) => a + b, 0) || 1;
  const dnaList = Object.entries(rawDna).map(([name, count]) => ({
    name,
    score: Math.round((count / total) * 100)
  }));

  if (total <= 1) {
    const defaults = [
      { name: 'í˜¸ê¸°ì‹¬', score: 65 },
      { name: 'ì°¨ë¶„í•¨', score: 52 },
      { name: 'ê°ì„±', score: 48 },
      { name: 'ë”°ëœ»í•¨', score: 40 },
      { name: 'ì—´ì •', score: 35 },
      { name: 'ìœ ë¨¸', score: 30 }
    ];
    return defaults.map(d => ({
      ...d,
      score: d.score + Math.floor(Math.random() * 20 - 10)
    })).sort((a, b) => b.score - a.score).slice(0, 3);
  }

  const maxScore = Math.max(...dnaList.map(d => d.score));
  const scaled = dnaList.map(d => ({
    ...d,
    score: Math.max(25, Math.min(95, Math.round((d.score / (maxScore || 1)) * 85 + 10)))
  }));

  return scaled.sort((a, b) => b.score - a.score).slice(0, 3);
}

/**
 * ë”¥ íŒ¨í„´ ì¶”ì¶œ
 */
function extractDeepPatterns(essayTexts, kwResult) {
  const combinedText = essayTexts.join(' ');

  const allSentences = combinedText
    .split(/[.!?\n]+/)
    .map(s => s.trim())
    .filter(s => s.length > 0);

  const topQuotes = _selectTopQuotes(allSentences, kwResult);

  const sentenceLengths = allSentences.map(s => s.length);
  const avgSentenceLength = sentenceLengths.length > 0
    ? Math.round(sentenceLengths.reduce((a, b) => a + b, 0) / sentenceLengths.length)
    : 0;
  const sentenceLengthVariance = sentenceLengths.length > 1
    ? Math.round(sentenceLengths.reduce((sum, len) => sum + Math.pow(len - avgSentenceLength, 2), 0) / sentenceLengths.length)
    : 0;

  const selfWords = (combinedText.match(/ë‚˜ëŠ”|ë‚˜ì˜|ë‚´ê°€|ì €ëŠ”|ì €ì˜|ì œê°€|ë‚´ |ë‚˜ /g) || []).length;
  const totalWords = combinedText.split(/\s+/).filter(w => w.length > 0).length || 1;
  const selfMentionRatio = Math.round((selfWords / totalWords) * 100);

  const otherWords = (combinedText.match(/ì¹œêµ¬|ì‚¬ëŒë“¤|ëˆ„ê°€|ë‹¤ë¥¸ ì‚¬ëŒ|ì£¼ë³€|ë™ë£Œ|ì„ ë°°|í›„ë°°/g) || []).length;
  const otherMentionRatio = Math.round((otherWords / totalWords) * 100);

  const ellipsisCount = (combinedText.match(/\.{3}|â€¦/g) || []).length;
  const conditionalCount = (combinedText.match(/ë§Œì•½|~ë©´|ë¼ë©´|í•œë‹¤ë©´|í–ˆë‹¤ë©´|ë‹¤ë©´|ê²½ìš°ì—|ë•Œë¬¸ì—/g) || []).length;
  const negativeCount = (combinedText.match(/ì•Š|ëª»|ì•ˆ |ì—†|ì•„ë‹ˆ|ì‹«|ê±°ë¶€|ë°˜ëŒ€/g) || []).length;

  const words = combinedText.replace(/[^ê°€-í£a-zA-Z\s]/g, '').split(/\s+/).filter(w => w.length >= 2);
  const uniqueWords = new Set(words);
  const vocabularyDiversity = words.length > 0
    ? Math.round((uniqueWords.size / words.length) * 100)
    : 0;

  const essayLengths = essayTexts.map(t => t.length);
  let lengthTrend = 'stable';
  if (essayLengths.length >= 3) {
    if (essayLengths[2] > essayLengths[0] * 1.2) lengthTrend = 'increasing';
    else if (essayLengths[2] < essayLengths[0] * 0.8) lengthTrend = 'decreasing';
  }

  const longestSentence = allSentences.reduce(
    (longest, s) => s.length > longest.length ? s : longest, ''
  );

  return {
    topQuotes,
    sentenceCount: allSentences.length,
    avgSentenceLength,
    sentenceLengthVariance,
    selfMentionRatio,
    otherMentionRatio,
    ellipsisCount,
    conditionalCount,
    negativeCount,
    vocabularyDiversity,
    essayLengths,
    lengthTrend,
    longestSentence: longestSentence.length > 80
      ? longestSentence.slice(0, 77) + '...'
      : longestSentence,
    charCount: combinedText.length,
    emotionCount: kwResult.emotionCount,
    logicCount: kwResult.logicCount,
    questionCount: kwResult.questionCount
  };
}

/**
 * í‚¤ì›Œë“œ ë°€ë„ ë†’ì€ ëŒ€í‘œ ë¬¸ì¥ 3ê°œ ì„ ë³„
 */
function _selectTopQuotes(sentences, kwResult) {
  const scored = sentences
    .filter(s => s.length >= 12)
    .map(s => {
      let score = 0;
      if (/ë‚˜ëŠ”|ì €ëŠ”|ë‚´ê°€|ë‚˜ë¥¼|ë‚˜í•œí…Œ/.test(s)) score += 3;
      if (/ê°™ì€|ì²˜ëŸ¼|ëŠë‚Œ|ê²ƒ ê°™/.test(s)) score += 2;
      if (/ê±°ë“ ìš”|ì–ì•„|í¸ì´|í•˜ë”ë¼|ì‹¶ì–´|ì¢‹ì•„/.test(s)) score += 2;
      if (/ë•Œ|ìˆœê°„|ê·¸ë•Œ|ìµœê·¼|ìš”ì¦˜/.test(s)) score += 1;
      if (s.length >= 15 && s.length <= 60) score += 2;
      else if (s.length <= 80) score += 1;
      if (s.length < 15) score -= 2;
      const text = s.length > 70 ? s.slice(0, 67) + '...' : s;
      return { text, score, original: s };
    })
    .sort((a, b) => b.score - a.score);

  const selected = [];
  for (const item of scored) {
    if (selected.length >= 3) break;
    const isDuplicate = selected.some(s =>
      s.text.includes(item.text.slice(0, 10)) || item.text.includes(s.text.slice(0, 10))
    );
    if (!isDuplicate && item.score > 0) {
      selected.push(item);
    }
  }

  if (selected.length < 3) {
    for (const item of scored) {
      if (selected.length >= 3) break;
      if (!selected.some(s => s.text === item.text)) {
        selected.push(item);
      }
    }
  }

  return selected.map(s => s.text);
}

/**
 * ì…€í”„ ê°­ ë ˆë²¨ ê³„ì‚° (4ê¸€ì MBTI ë¹„êµ)
 */
function calculateGap(selfType, finalType) {
  if (selfType === finalType) return 'match';

  let diff = 0;
  for (let i = 0; i < 4; i++) {
    if (selfType[i] !== finalType[i]) diff++;
  }

  if (diff === 1) return 'slight';
  return 'big'; // 2ê°œ ì´ìƒ ë‹¤ë¥´ë©´ big
}

/**
 * MBTI ì½”ë“œì—ì„œ íŒ¨ë°€ë¦¬ ê·¸ë£¹ ë°˜í™˜ (ëŒ€ì‚¬ ì‹œìŠ¤í…œìš©)
 */
function getMBTIFamily(mbtiCode) {
  const middle = mbtiCode.substring(1, 3); // S/N + T/F
  if (middle === 'NT') return 'NT';
  if (middle === 'NF') return 'NF';
  if (middle === 'ST') return 'ST';
  if (middle === 'SF') return 'SF';
  return 'NT'; // fallback
}
